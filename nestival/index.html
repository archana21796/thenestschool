<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <!-- ✅ Basic Meta Tags -->
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <title>NESTival'25 | The NEST School | Inter-School Cultural Fest 2025</title>
  <meta
    name="description"
    content="Join NESTival'25 – The NEST School’s annual inter-school cultural festival featuring dance, music, innovation, and creativity. Register online for school and individual events."
  />
  <meta
    name="keywords"
    content="NESTival 2025, The NEST School, inter-school competition, cultural fest Chennai, Cambridge International, IB World School, dance competition, music competition, school events"
  />
  <link rel="canonical" href="https://thenest.school/nestival-2025" />

  <!-- ✅ Open Graph (Facebook / LinkedIn / WhatsApp) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="NESTival'25 – The NEST School Cultural Festival 2025" />
  <meta
    property="og:description"
    content="Experience NESTival'25 — a vibrant celebration of talent, innovation, and creativity hosted by The NEST School, Chennai."
  />
  <meta
    property="og:image"
    content="https://thenest.school/wp-content/uploads/2025/09/nestival-og-banner.webp"
  />
  <meta property="og:url" content="https://thenest.school/nestival-2025" />
  <meta property="og:site_name" content="The NEST School" />

  <!-- ✅ Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="NESTival'25 – The NEST School Cultural Fest 2025" />
  <meta
    name="twitter:description"
    content="Join NESTival'25 – Chennai’s premier inter-school cultural festival hosted by The NEST School. Register today!"
  />
  <meta
    name="twitter:image"
    content="https://thenest.school/wp-content/uploads/2025/09/nestival-og-banner.webp"
  />

  <!-- ✅ Google Site Verification -->
  <meta
    name="google-site-verification"
    content="YourGoogleSiteVerificationCodeHere"
  />

  <!-- ✅ Fonts and Libraries -->
  <link
    href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"
    rel="stylesheet"
  <!--/>-->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  />
  <link rel="stylesheet" href="style.css" />

  <!-- ✅ Favicon -->
  <!--<link rel="icon" href="https://thenest.school/wp-content/uploads/2025/09/favicon.png" type="image/png" />-->

  <!-- ✅ Google Tag (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0RHW9YRH29"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-0RHW9YRH29");
  </script>
  <style>
        /* Full-screen overlay */
  #nestival-fullscreen-loader {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.55);
    z-index: 99999;
  }

  /* Loader box */
  #nestival-fullscreen-loader .loader-box {
    background: #fff;
    padding: 24px 28px;
    border-radius: 14px;
    box-shadow: 0 6px 30px rgba(0,0,0,0.25);
    text-align: center;
    min-width: 200px;
  }

  /* Spinner */
  #nestival-fullscreen-loader .spinner {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 6px solid rgba(0,0,0,0.1);
    border-top-color: #0d6efd;
    animation: nestival-spin 1s linear infinite;
    margin: 0 auto 14px;
  }

  @keyframes nestival-spin {
    100% { transform: rotate(360deg); }
  }

  /* Text */
  #nestival-fullscreen-loader .loader-text {
    font-size: 16px;
    color: #222;
  }
  </style>
</head>


  <body>
    <header class="styleherobannersection">
      <div class="container-fluid mx-md-auto">
        <div
          class="row align-items-center justify-content-center justify-content-lg-end"
        >
        <div class="col-6 col-md-3 m-0 m-md-1 p-0 p-md-1" data-aos="zoom-in" data-aos-delay="100">
          <a href="https://thenest.school/" target="_blank" rel="noopener noreferrer">
            <img
              class="nestlogostyle rounded-2"
              src="./images/nestschlogo.png"
              alt="The Nest School"
            />
          </a>
        </div>
        

          <div class="d-none d-md-block col-md-5 text-center text-lg-end">
            <p class="d-inline-block styletag">#GenNEST</p>
            <p class="d-inline-block styletag">#NESTival</p>
          </div>
          <div
            class="col-6 col-md-3 ms-auto text-end"
            data-aos="zoom-in"
            data-aos-delay="100"
          >
            <a href="https://msec.edu.in/" target="_blank" rel="noopener noreferrer">
              <img
                class="mseclogo rounded-2"
                src="./images/powered.jpeg"
                alt="MSEC Logo"
              />
            </a>
          </div>

        </div>
      </div>
      <div
        class="container d-md-none"
        style="font-family: Niveau Grotesk, sans-serif"
      >
        <div class="row align-items-center justify-content-between">
          <div class="col-6">
            <h4 class="styletag fw-bold text-white">#GenNEST</h4>
          </div>
          <div class="col-4">
            <h4 class="styletag fw-bold text-white">#NESTival</h4>
          </div>
        </div>
      </div>
      <div
        class="container d-lg-none"
        style="font-family: Niveau Grotesk, sans-serif"
      >
        <div class="row align-items-center justify-content-between">
          <ul
            style="list-style-type: none"
            class="d-flex justify-content-around stylelist"
          >
            <li><a href="#about">About</a></li>
            <li><a href="#events-rules">Events</a></li>
            <li><a href="#events-rules">Rules & Regulations</a></li>
          </ul>
        </div>
      </div>
      <div
        class="container-fluid d-none d-lg-block"
        style="font-family: Niveau Grotesk, sans-serif"
      >
        <div class="row m-0 p-0 justify-content-end">
          <ul
            style="list-style-type: none"
            class="col-lg-2 col-xl-1 justify-content-end text-end stylelist"
          >
            <li><a href="#about">About</a></li>
            <li><a href="#events-rules">Events</a></li>
            <li><a href="#events-rules">Rules & Regulations</a></li>
          </ul>
        </div>
      </div>
      <div>
        <div class="container text-center">
          <div class="row justify-content-md-end">
            <div class="col-12 col-lg-8">
              <h5 class="styletheme" data-aos="zoom-in" data-aos-delay="300">
                Art| Technology| Innovation - Inter-School Competition
              </h5>
              <h1 class="homeheader" data-aos="zoom-in" data-aos-delay="200">
                NESTival
              </h1>
              <h5 class="homesubheader" data-aos="zoom-in" data-aos-delay="300">
                Nurturing Excellence, Showcasing Talents
              </h5>
            <a href="#regForm" style="text-decoration:none; color:white;">              <button 
                class="d-lg-none btn registerbtn"
                data-aos="zoom-in"
                data-aos-delay="100"
              >Register</button></a>


              <div class="d-flex justify-content-center mt-md-1">
                <img
                  class="mt-2 styleicons"
                  src="./images/schedule.png"
                  alt=""
                />
                <p class="styledatetime fw-bold text-white pt-3 ps-3">
                  21 <sup>st</sup>& 22 <sup>nd</sup>November,2025
                </p>
              </div>
              <div class="d-flex justify-content-center">
                <img class="mt-1 styleicons" src="./images/clock.png" alt="" />
                <p class="styledatetime text-white fw-bold pt-2 ps-3">
                  9:00 am to 4:00 pm
                </p>
              </div>
              <div
                class="container text-center d-none d-md-block"
                data-aos="zoom-in"
                data-aos-delay="300"
              >
                <div class="row justify-content-center g-3 countdown">
                  <div class="col-3">
                    <h2 class="time-value dday">0</h2>
                    <p class="time-label">Days</p>
                  </div>
                  <div class="col-3">
                    <h2 class="time-value dhour">00</h2>
                    <p class="time-label">Hours</p>
                  </div>
                  <div class="col-3">
                    <h2 class="time-value dmin">00</h2>
                    <p class="time-label">Minutes</p>
                  </div>
                  <div class="col-3">
                    <h2 class="time-value dsec">00</h2>
                    <p class="time-label">Seconds</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- Mobile-only sticky social -->
<div class="mobile-social-wrap" id="mobileSocial" aria-hidden="false">
  <!-- optional vertical label (uncomment if you want text) -->
  <!-- <div class="ms-label">Social</div> -->

  <!-- slide-out panel (icons) -->
  <div class="ms-panel" id="msPanel" role="group" aria-label="Social links">
    <!-- Instagram -->
    <a class="ms-item" href="https://www.instagram.com/the_nest_school/" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram">
      <i class="bi bi-instagram " aria-hidden="true"></i>
    </a>

    <!-- Facebook -->
    <a class="ms-item" href="https://www.facebook.com/TheNESTSchoolChennai/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook">
      <i class="bi bi-facebook" aria-hidden="true"></i>
    </a>

    <!-- YouTube -->
    <a class="ms-item" href="https://www.youtube.com/@TheNESTSchoolChennai" target="_blank" rel="noopener noreferrer" aria-label="YouTube" title="YouTube">
      <i class="bi bi-youtube " aria-hidden="true"></i>
    </a>

    <!-- X (Twitter) -->
    <a class="ms-item" href="https://x.com/The_NEST_School" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)" title="X">
      <i class="bi bi-twitter-x" aria-hidden="true"></i>
    </a>
  </div>

  <!-- handle -->
  <button class="ms-handle" id="msToggle" aria-expanded="false" aria-controls="msPanel" title="Open social links">
    <i class="bi bi-share text-white ms-caret" aria-hidden="true" style="font-size:16px;"></i>
  </button>
</div>
<!-- Video + Brochure container -->
<section class="container py-4" aria-label="Nestival video and brochure">
  <div class="row g-3 align-items-center">
    <!-- Left: YouTube video -->
    <div class="col-12 col-md-6">
      <div class="ratio ratio-16x9 rounded shadow-sm">
        <iframe 
          src="https://www.youtube.com/embed/1sO-xNLO2BQ?si=IXUUAbhOPaLXKRqG"
          title="Nestival video player"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen>
        </iframe>
      </div>
    </div>

    <!-- Right: Brochure card -->
    <div class="col-12 col-md-6">
      <div class="card h-100 shadow-sm border-0">
        <!-- Change href to your brochure page -->
        <a id="brochureLink"
           class="stretched-link text-decoration-none"
           href="./NESTIVAL (5).pdf"
           role="link"
           aria-label="Open Nestival brochure (opens in new tab)"
           target="_blank" rel="noopener noreferrer"
           tabindex="0">
          <div class="position-relative">
            <picture>
              <source srcset="./images/clickhere.webp" type="image/webp">
              <img src="./images/clickhere.webp"
                   alt="Nestival brochure cover — click to open brochure"
                   class="card-img-top img-fluid rounded-top"
                   loading="lazy"
                   style="object-fit:cover; height: 260px; width:100%;">
            </picture>

            <!-- overlay CTA -->
            <div class="position-absolute bottom-0 start-0 w-100 p-3"
                 style="background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.42) 60%, rgba(0,0,0,0.65) 100%); border-bottom-left-radius: .5rem; border-bottom-right-radius: .5rem;">
              <div class="d-flex justify-content-between align-items-center text-white">
                <div>
                  <h6 class="mb-0 fw-bold fs-4 text-danger">View NESTival Brochure</h6>
                  <small class="d-block">Click to open brochure (PDF / page)</small>
                </div>
                <div>
                  <span class="btn btn-sm btn-light">Open</span>
                </div>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

    <main
      id="about"
      class="about-wrap container my-4 pb-3"
      style="font-family: Niveau Grotesk, sans-serif; background-color: #f9e2e2"
    >
      <p
        class="sectiontitle textcolor1"
        data-aos="fade-left"
        data-aos-delay="100"
      >
        About NESTival '25
      </p>
      <p
        class="subtitle text-center fs-4"
        data-aos="fade-left"
        data-aos-delay="100"
      >
        ART | TECHNOLOGY | INNOVATION — Inter-School Competitions <br />
        powered by<br />
        <span class="fw-bold fs-2" data-aos="fade-right" data-aos-delay="100"
          >Meenakshi Sundararajan Engineering College.</span
        >
      </p>

      <h1
        class="hero-title text-center textcolor1 fw-bold"
        data-aos="fade-right"
        data-aos-delay="200"
      >
        Nurturing Excellerence Showcasing Talents
      </h1>
      <div
        class="hashtags text-center textcolor2 fw-bold fs-1"
        data-aos="fade-right"
        data-aos-delay="200"
      >
        #GenNEST &nbsp; <span>#NESTival'25</span>
      </div>

      <div
        class="cards row px-3 justify-content-center justify-content-lg-around"
      >
        <div
          class="card border-0 shadow-lg my-2 col-12 col-md-6 col-lg-5"
          data-aos="zoom-in"
          data-aos-delay="100"
        >
          <h5 class="fs-2 textcolor1 fw-bold">ELIGIBILITY CRITERIA</h5>
          <p class="fw-bold fs-5">Participants from Grade IV to XII</p>
        </div>

        <div
          class="card border-0 my-2 shadow-lg col-12 col-md-6 col-lg-5"
          data-aos="zoom-in"
          data-aos-delay="200"
        >
          <h5 class="fs-2 textcolor1 fw-bold">DATE</h5>
          <p class="fw-bold fs-5">21st &amp; 22nd November 2025</p>
        </div>

        <div
          class="card border-0 shadow-lg my-2 col-12 col-md-6 col-lg-5"
          data-aos="zoom-in"
          data-aos-delay="300"
        >
          <h5 class="fs-2 textcolor1 fw-bold">TIME</h5>
          <p class="fw-bold fs-5">09:00 AM – 04:00 PM</p>
        </div>

        <div
          class="card border-0 my-2 shadow-lg col-12 col-md-6 col-lg-5"
          data-aos="zoom-in"
          data-aos-delay="400"
        >
          <h5 class="fs-2 textcolor1 fw-bold">VENUE</h5>
          <p class="fw-bold fs-5">
            The NEST School - Kodambakkam, Chennai - 24
          </p>
        </div>
      </div>
      <p class="sectiontitle textcolor1 my-3">collaboration</p>
      <div class="container">
        <div class="row mx-auto align-items-center justify-content-center">
          <div
            class="col-12 col-md-3 col-xl-2"
            data-aos="zoom-in"
            data-aos-delay="100"
          >
            <img  style="max-width:150px"
              class="stylecollab mx-auto shadow-lg rounded-2 bg-white p-3"
              src="./images/nasscom (2).webp"
              alt=""
            />
          </div>
                    <div
            class="col-12 col-md-3 col-xl-2"
            data-aos="zoom-in"
            data-aos-delay="100"
          >
            <img style="max-width:150px"
              class="stylecollab mx-auto shadow-lg rounded-2 bg-white p-3"
              src="./images/collab2.jpeg"
              alt=""
            />
          </div>
                    <div
            class="col-12 my-3 my-md-0 col-md-3 col-xl-2"
            data-aos="zoom-in"
            data-aos-delay="100"
          >
            <img style="max-width:150px"
              class="stylecollab mx-auto shadow-lg rounded-2 bg-white p-3"
              src="./images/collab3.jpeg"
              alt=""
            />
          </div>
           <div
            class="col-12 col-md-3 col-xl-2"
            data-aos="zoom-in"
            data-aos-delay="200"
          >
            <img 
              class="stylecollab mx-auto shadow-lg p-3 rounded-2 bg-white p-3"
              src="./images/T-Hub_Logo-PNG.jpg"
              alt=""
            />
          </div>
        </div>
      </div>
    </main>
    
    <section id="nestival-faq" class="py-5 bg-light">
  <div class="container gradient-card">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-uppercase textcolor1 ">NESTival’25 – Frequently Asked Questions (FAQs)</h2>
      <p class="text-muted">Your guide to everything you need to know about NESTival 2025</p>
    </div>

    <div class="accordion p-4" id="faqAccordion">

      <!-- Q1 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="faq1">
          <button class="accordion-button textcolor1 fw-bold " type="button" data-bs-toggle="collapse" data-bs-target="#faq1Collapse" aria-expanded="true">
            Q1. What is NESTival 2025?
          </button>
        </h2>
        <div id="faq1Collapse" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            NESTival’25 is a two-day interschool festival organized by <strong>The NEST School</strong> and powered by <strong>Meenakshi Sundararajan Engineering College</strong>, celebrating creativity, innovation, and sustainability through cultural, technical, and entrepreneurial events.
          </div>
        </div>
      </div>

      <!-- Q2 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="faq2">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq2Collapse">
            Q2. When and where will NESTival 2025 take place?
          </button>
        </h2>
        <div id="faq2Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            The festival will be held on <strong>November 21–22, 2025</strong> at <strong>The NEST School</strong> (inside Meenakshi Sundararajan Engineering College campus), 363, Arcot Road, Subedar Colony, Kodambakkam, Chennai – 600024.
          </div>
        </div>
      </div>

      <!-- Q3 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="faq3">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq3Collapse">
            Q3. What are the main categories of events?
          </button>
        </h2>
        <div id="faq3Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            <ul>
              <li><strong>Creative:</strong> Vibe Check, Indie Blend, Silence Please!, Plot Luck, Palette Play, Eco Hues</li>
              <li><strong>Technology:</strong> Drone Dash, Maze-o-Bots, KickBot Arena, App Venture, Digital Detective</li>
              <li><strong>Innovation & Entrepreneurial:</strong> Shark Tank Junior, FlipSide, Vision Drop</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Q4 -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="faq4">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq4Collapse">
            Q4. Who can participate?
          </button>
        </h2>
        <div id="faq4Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Students from Grades 4–12, divided into three levels:
            <ul>
              <li><strong>Level I:</strong> Grades 4–6</li>
              <li><strong>Level II:</strong> Grades 7–9</li>
              <li><strong>Level III:</strong> Grades 10–12</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Q5–Q16 (Condensed for readability but full below) -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="faq5">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq5Collapse">
            Q5. Can individual students participate without a school team?
          </button>
        </h2>
        <div id="faq5Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes. Individual participants may join with their school ID and must be accompanied by a parent or legal guardian.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq6">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq6Collapse">
            Q6. How can schools or students register?
          </button>
        </h2>
        <div id="faq6Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Register via the official link <a href="https://thenest.school/nestival" target="_blank">thenest.school/nestival</a> by <strong>November 18, 2025</strong>. Limited spot registrations may be available for select events on-site.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq7">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq7Collapse">
            Q7. Can a student participate in multiple events?
          </button>
        </h2>
        <div id="faq7Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes, as long as the event timings do not overlap.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq8">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq8Collapse">
            Q8. Are stationery, props, and instruments provided by the organizers?
          </button>
        </h2>
        <div id="faq8Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            No. Participants must bring their own stationery, instruments, props, cables, adapters, and other accessories.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq9">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq9Collapse">
            Q9. Are drones, robots or laptops provided for tech events?
          </button>
        </h2>
        <div id="faq9Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            No. Teams must bring their own drones or robots and ensure they are in working condition. Fully charged laptops must be carried for all tech events.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq10">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq10Collapse">
            Q10. What facilities will be provided at the venue?
          </button>
        </h2>
        <div id="faq10Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            <ul>
              <li>Basic stage setup (lighting, sound, microphones)</li>
              <li>LED screen and AV support</li>
              <li>Wi-Fi access (for event-related purposes)</li>
              <li>Green rooms for performers</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq11">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq11Collapse">
            Q11. Will technical assistance be available?
          </button>
        </h2>
        <div id="faq11Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes. Basic audio-visual support will be provided. Participants must manage their own device-specific needs.  
            All media files must be submitted 48 hours before the event in <strong>.mp3</strong>, <strong>.wav</strong>, or <strong>.mp4</strong> formats.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq12">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq12Collapse">
            Q12. What about food arrangements?
          </button>
        </h2>
        <div id="faq12Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Meals will not be provided. However, on-site food stalls will be available for purchase.  
            Accompanying adults are responsible for managing food allergies or dietary requirements.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq13">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq13Collapse">
            Q13. What about transport and parking?
          </button>
        </h2>
        <div id="faq13Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Limited parking is available on a first-come, first-served basis.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq14">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq14Collapse">
            Q14. Is first aid available on site?
          </button>
        </h2>
        <div id="faq14Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes. First aid and medical assistance will be available throughout both festival days.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq15">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq15Collapse">
            Q15. Who can I contact for further queries?
          </button>
        </h2>
        <div id="faq15Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            <p>Email: <a href="mailto:events@thenest.school">events@thenest.school</a></p>
            <p>Call: <a href="tel:9940106358">9940106358</a></p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="faq16">
          <button class="accordion-button collapsed textcolor1 fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq16Collapse">
            Q16. What are the prizes?
          </button>
        </h2>
        <div id="faq16Collapse" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            <ul>
              <li><strong>1st Place:</strong> ₹3,000</li>
              <li><strong>2nd Place:</strong> ₹2,000</li>
              <li><strong>3rd Place:</strong> ₹1,000</li>
            </ul>
            <p>In addition, select winners will receive vouchers, mentorship opportunities, bootcamp access, and exclusive rewards from industry partners.</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
    <section
      class="styleregistrationsection"
      style="font-family: Niveau Grotesk, sans-serif"
    >
      <div class="container" data-aos="fade-left" data-aos-delay="100">
        <p class="sectiontitle textcolor2">Registration - Nestival'25</p>
      </div>
      <div class="container" id="register">
        <div class="gradient-card p-4 p-md-5 shadow-lg">
          <h1
            class="h3 mb-3 fs-2 fw-bold"
            data-aos="fade-left"
            data-aos-delay="100"
          >
            Student Registration — NESTival'25
          </h1>
          <p class="text-muted">
            Fill student details and choose competitions allowed for the
            selected grade.
          </p>


<!-- Paste this where your registration form should appear -->
<!-- Full registration form + JS with full event data and a comprehensive pre-submit modal -->
<form id="regForm" novalidate>
  <!-- Registration type -->
  <div class="mb-3">
    <label class="form-label">Registration type *</label>
    <div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="regType" id="reg_school" value="school" checked>
        <label class="form-check-label" for="reg_school">School registration</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="regType" id="reg_individual" value="individual">
        <label class="form-check-label" for="reg_individual">Individual registration</label>
      </div>
    </div>
  </div>

  <!-- School block -->
  <div id="schoolTopBlock" class="row g-3 mb-3">
    <div class="col-md-6">
      <label class="form-label">School name *</label>
      <input type="text" class="form-control" id="schoolName" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Contact teacher name *</label>
      <input type="text" class="form-control" id="faculty" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Contact teacher phone *</label>
      <input type="tel" class="form-control" id="phone" />
    </div>
    <div class="col-md-6">
      <label class="form-label">School Email *</label>
      <input type="email" class="form-control" id="schoolEmail" />
    </div>

    <div class="col-md-6">
      <label class="form-label">Emergency contact name & mobile *</label>
      <input type="text" class="form-control" id="emergencyName" placeholder="Name (and mobile)"/>
    </div>
    <div class="col-md-6">
      <label class="form-label">Teacher signature (typed name) *</label>
      <input type="text" class="form-control" id="teacherSignature" />
    </div>
  </div>

  <!-- Individual block (parent info only; students must be added below) -->
  <div id="individualBlock" class="border rounded p-3 mb-3" style="display:none;">
    <h5>Individual registration details</h5>
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">School name (of the participant)</label>
        <input type="text" class="form-control" id="indiv_school" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Parent / Guardian name *</label>
        <input type="text" class="form-control" id="indiv_parentName" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Parent phone *</label>
        <input type="tel" class="form-control" id="indiv_parentPhone" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Parent email *</label>
        <input type="email" class="form-control" id="indiv_parentEmail" />
      </div>

      <div class="col-12 text-danger">
        Individual participants will be allowed only if accompanied by a Parent or Legal Guardian.<br>
        <strong>Important:</strong> For individual registration you must add at least one student using the "Students (add once)" panel below before selecting events.
      </div>
    </div>
  </div>

  <!-- Students panel (add once) -->
  <div class="mb-3">
    <h5>Students (add once)</h5>
    <div id="studentsList" class="mb-2"></div>

    <div class="row g-2 align-items-end">
      <div class="col-md-6">
        <input type="text" id="newStudentName" class="form-control" placeholder="Student name">
      </div>
      <div class="col-md-4">
        <label class="form-label">Select Grade</label>
        <select id="studentNewGrade" class="form-select">
          <option value="">Select Grade</option>
          <option value="Grade 4">Grade 4</option>
          <option value="Grade 5">Grade 5</option>
          <option value="Grade 6">Grade 6</option>
          <option value="Grade 7">Grade 7</option>
          <option value="Grade 8">Grade 8</option>
          <option value="Grade 9">Grade 9</option>
          <option value="Grade 10">Grade 10</option>
          <option value="Grade 11">Grade 11</option>
          <option value="Grade 12">Grade 12</option>
        </select>
      </div>
      <div class="col-md-2">
        <button type="button" id="addStudentBtn" class="btn btn-secondary w-100">Add student</button>
      </div>
    </div>

    <div class="form-text mt-1">Add students once; select them below per event (you can add multiple students at any time).</div>
  </div>

  <!-- Competitions list -->
  <div class="mb-3">
    <label class="form-label">Competitions</label>
    <div id="competitionsList" class="row gy-2"></div>
    <div class="form-text">Select the competitions to register for and check which students participate.</div>
  </div>

  <div class="text-danger small mt-1">
    * Uncheck an event box to remove the event from registration.
  </div>

  <!-- Container for per-event panels -->
  <div id="competitionsWrapper" class="mt-3"></div>

  <!-- Mandatory notices -->
  <div id="mandatoryNotices" class="mt-4 mb-3 border rounded p-3" style="background:#fff8e6;">
    <p style="font-weight:700; margin:0 0 .5rem 0;">
      <a href="/nestival/	
nestivalbrochure.pdf" target="_blank">Please read the General Rules & Regulations before submitting the form.</a>
    </p>
    <!--<p style="font-weight:700; margin:0 0 .5rem 0;">-->
    <!--  <a href="/nestival/Consent_Release_.pdf" target="_blank">A signed Consent & Release form is mandatory for participation.</a>-->
    <!--</p>-->
    <p style="font-weight:700; margin:0 0 .5rem 0;">
      Individual participants will be allowed only if accompanied by a Parent or Legal Guardian.
    </p>
  </div>
  
  <div class="mb-3">
  <label for="heardAbout" class="form-label fw-semibold">How did you hear about NESTival’25? *</label>
  <select class="form-select" id="heardAbout" required>
    <option value="">Select an option</option>
    <option value="School email / circular">School email / circular</option>
    <option value="Teacher or coordinator">Teacher or coordinator</option>
    <option value="Friend or classmate">Friend or classmate</option>
    <option value="Social media">Social media</option>
    <option value="Poster / brochure">Poster / brochure</option>
    <option value="Website">Website</option>
    <option value="Other">Other (please specify below)</option>
  </select>

  <!-- Text input for 'Other' option -->
  <input type="text" id="heardOther" class="form-control mt-2" placeholder="Please specify" style="display:none;">
</div>

  <div class="mt-4 d-flex align-items-center justify-content-center">
    <button id="submitBtn" type="submit" class="btn btn-primary p-3 fs-5">Submit Registration</button>
  </div>
</form>

    <!-- Modal for Time & Rules (paste once near the form) -->
<!-- Modal for Time & Rules -->
<!--<div class="modal fade" id="eventRulesModal" tabindex="-1" aria-labelledby="eventRulesModalLabel" aria-hidden="true">-->
<!--  <div class="modal-dialog modal-lg modal-dialog-scrollable">-->
<!--    <div class="modal-content">-->
<!--      <div class="modal-header">-->
<!--        <h5 class="modal-title" id="eventRulesModalLabel">Event — Rules & Time</h5>-->
<!--        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--      </div>-->
<!--      <div class="modal-body" id="eventRulesModalBody" style="white-space:normal;"></div>-->
<!--      <div class="modal-footer">-->
<!--        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

          <div
            id="submissionPreview"
            class="alert alert-success mt-4 d-none"
          ></div>
        </div>
      </div>
    </section>
<section
  class="events-section my-4"
  id="events-rules"
  style="font-family: 'Niveau Grotesk', sans-serif; background: linear-gradient(135deg,#fcc0da 0%,#fdecb4 40%,#b9e2fb 100%);"
>
  <div class="container">
    <header class="mb-4 d-flex flex-column flex-lg-row align-items-center justify-content-between">
      <h2 class="sectiontitle textcolor1 my-4" data-aos="fade-right" data-aos-delay="100">
        NESTival 2025 — Events, Rules & Eligibility
      </h2>

    </header>

    <p class="mb-4">Participant categories: <strong>Level I</strong> (Grades 4–6) · <strong>Level II</strong> (Grades 7–9) · <strong>Level III</strong> (Grades 10–12).</p>
<!-- =========================
     CREATIVE (ART / MUSIC / THEATRE)
========================= -->
<div class="mb-5">
  <div class="category-header d-flex align-items-center" data-aos="fade-right" data-aos-delay="100">
    <div class="category-badge">CREATIVE</div>
    <h3 class="category-title ms-3">Creative — Art, Music, Drama</h3>
  </div>

  <div class="row g-4 mt-2">

    <!-- VIBE CHECK (Dance) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="150">
      <article class="event-card reveal">
        <div class="event-title">VIBE CHECK (Dance)</div>
        <div class="event-meta">Levels I–III · Solo up to 2 min · Group up to 4 min · Group up to 12</div>
        <div class="mb-2">
          <span class="pill">Open theme</span>
          <span class="pill">Pre-recorded music allowed</span>
        </div>
        <ul class="rules">
          <li>Focus: clarity of concept, strong choreography, timing & sync, expression & stagecraft.</li>
          <li>Any dance style or fusion allowed. Props allowed if pre-declared and safe.</li>
          <li>Submit all media 48 hours prior (.mp3/.wav + visuals if any). USB back-up recommended.</li>
          <li>Setup/clearance time: max 2 minutes. School-appropriate content only.</li>
        </ul>
      </article>
    </div>

    <!-- INDIE BLEND (Fusion Band) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="200">
      <article class="event-card reveal">
        <div class="event-title">INDIE BLEND (Fusion Band)</div>
        <div class="event-meta">Levels I–III · Solo or Group · Group up to 8 · Solo up to 3 min · Group up to 6 min</div>
        <div class="mb-2">
          <span class="pill">Live only</span>
          <span class="pill">Fusion (Indian + Western/Indigenous)</span>
        </div>
        <ul class="rules">
          <li>Performance must be entirely live — no pre-recorded tracks or lip-syncing.</li>
          <li>Encouraged: original compositions or creative arrangements blending traditions.</li>
          <li>Adhere strictly to time limits; judging: musicality, fusion creativity, coordination & stage presence.</li>
        </ul>
      </article>
    </div>

    <!-- SILENCE PLEASE! (Mime) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="250">
      <article class="event-card reveal">
        <div class="event-title">SILENCE PLEASE! (Mime)</div>
        <div class="event-meta">Levels II–III · Solo/Group · Up to 3 minutes</div>
        <div class="mb-2">
          <span class="pill">Silent performance</span>
          <span class="pill">Costume & make-up required</span>
        </div>
        <ul class="rules">
          <li>Entries must be silent — no dialogues or voiceovers. Background audio/visuals must be submitted 48 hrs prior.</li>
          <li>Costumes & make-up mandatory; props allowed if pre-declared and safe.</li>
          <li>Judging: clarity of storytelling, expression, synchronization and stage impact.</li>
        </ul>
      </article>
    </div>

    <!-- PLOT LUCK (Improv) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="300">
      <article class="event-card reveal">
        <div class="event-title">PLOT LUCK (Improv)</div>
        <div class="event-meta">Levels II–III · Group · 3–6 performers · Up to 7 minutes</div>
        <div class="mb-2">
          <span class="pill">Unscripted</span>
          <span class="pill">Prompt-driven</span>
        </div>
        <ul class="rules">
          <li>No scripts allowed. Prompts will be given at registration. Keep content school-appropriate.</li>
          <li>Judging: spontaneity, teamwork, humour, stagecraft & audience engagement.</li>
          <li>Props/costumes allowed if simple & safe. Strictly observe time limits.</li>
        </ul>
      </article>
    </div>

    <!-- PALETTE PLAY (Visual Art) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="350">
      <article class="event-card reveal">
        <div class="event-title">PALETTE PLAY (Visual Art)</div>
        <div class="event-meta">Levels II–III · Solo or Pairs · Duration: 90 minutes · A3 on-site</div>
        <div class="mb-2">
          <span class="pill">A3 only</span>
          <span class="pill">AI allowed as reference</span>
        </div>
        <ul class="rules">
          <li>Final artwork must be created on-site during the 90-minute session.</li>
          <li>AI may be used for references only; final work must be manually executed and original.</li>
          <li>Bring your own art supplies and device to view references. Submit completed artwork at end of session.</li>
        </ul>
      </article>
    </div>

    <!-- ECO HUES (Rangoli / Kolam) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="400">
      <article class="event-card reveal">
        <div class="event-title">ECO HUES (Rangoli / Kolam)</div>
        <div class="event-meta">Levels I–II · Teams up to 4 · Duration: 90 minutes · 3m × 3m workspace</div>
        <div class="mb-2">
          <span class="pill">Biodegradable materials</span>
          <span class="pill">Sustainable</span>
        </div>
        <ul class="rules">
          <li>Only natural, biodegradable materials allowed (flowers, pulses, rice flour, sand). No plastics/glitter.</li>
          <li>Teams provided with a 3m × 3m workspace. Bring your own eco-friendly materials.</li>
          <li>Judging: creativity, material use, neatness & sustainability message.</li>
        </ul>
      </article>
    </div>

    <!-- FLIPSIDE (Turncoat Debate) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="450">
      <article class="event-card reveal">
        <div class="event-title">FLIPSIDE (Turncoat Debate)</div>
        <div class="event-meta">Levels II–III · Solo · 6 minutes total (2.5 FOR / 2.5 AGAINST / 1 summary)</div>
        <div class="mb-2">
          <span class="pill">Reasoned debate</span>
          <span class="pill">No devices</span>
        </div>
        <ul class="rules">
          <li>Participants must argue both sides convincingly and show adaptability. Topic: AI and Our Future.</li>
          <li>No notes or electronic devices on stage. Personal attacks lead to disqualification.</li>
          <li>Judging: logic, rebuttal strength, delivery & adaptability.</li>
        </ul>
      </article>
    </div>

    <!-- VISION DROP (TEDx-style) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="500">
      <article class="event-card reveal">
        <div class="event-title">VISION DROP (TEDx-style)</div>
        <div class="event-meta">Levels II–III · Solo/Group · Duration: 4–5 minutes</div>
        <div class="mb-2">
          <span class="pill">Big ideas</span>
          <span class="pill">Slides optional</span>
        </div>
        <ul class="rules">
          <li>Present one clear idea or solution. Keep slides visual & concise; submit media 48 hours prior.</li>
          <li>Judging: originality, clarity, structure & delivery.</li>
        </ul>
      </article>
    </div>

    <!-- SHARK TANK JUNIOR (Pitch) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="550">
      <article class="event-card reveal">
        <div class="event-title">SHARK TANK JUNIOR</div>
        <div class="event-meta">Levels II–III · Teams up to 4 · Pitch 4 minutes + 2 min Q&A</div>
        <div class="mb-2">
          <span class="pill">Entrepreneurial pitch</span>
          <span class="pill">Prototype encouraged</span>
        </div>
        <ul class="rules">
          <li>Teams must present original ideas. Submit one-page summary and slides (if any) 48 hours before the event.</li>
          <li>Prototypes/demos must be safe and quick to set up (max 2 minutes).</li>
          <li>Judging: innovation, feasibility, market awareness, presentation & Q&A performance.</li>
        </ul>
      </article>
    </div>

  </div>
</div>

<!-- =========================
     TECHNOLOGY / INNOVATION / HACKS
========================= -->
<div class="mb-5">
  <div class="category-header d-flex align-items-center" data-aos="fade-right" data-aos-delay="100">
    <div class="category-badge" style="background:linear-gradient(90deg,#7fffd4,#9be7ff)">TECH & INNOVATION</div>
    <h3 class="category-title ms-3">Technology & Innovation</h3>
  </div>

  <div class="row g-4 mt-2">

    <!-- DRONE DASH -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="150">
      <article class="event-card reveal">
        <div class="event-title">DRONE DASH (Drone Obstacle Race)</div>
        <div class="event-meta">Levels I–II · Teams up to 2 participants</div>
        <ul class="rules">
          <li>Bring your own drone and safety gear. Goggles mandatory for pilots on-site.</li>
          <li>Follow safety & flying height restrictions. Organisers provide the obstacle course only.</li>
          <li>Judging: speed, precision, fair play & control skills.</li>
        </ul>
      </article>
    </div>

    <!-- MAZE-O-BOTS -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="200">
      <article class="event-card reveal">
        <div class="event-title">MAZE-O-BOTS (Robot Maze Challenge)</div>
        <div class="event-meta">Levels I–II · Team 1–2 · Autonomous navigation</div>
        <div class="mb-2"><span class="pill">Autonomous only</span><span class="pill">Size limit applies</span></div>
        <ul class="rules">
          <li>Robots must navigate the maze autonomously (no remote control). Size limit: fit within 12cm × 12cm × 10cm.</li>
          <li>One trial before the official run. If stuck, one restart allowed. Fastest successful completion wins.</li>
          <li>Bring fully tested robot, spare batteries, chargers & a name tag for your bot.</li>
        </ul>
      </article>
    </div>

    <!-- KICKBOT ARENA (Robo Soccer) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="250">
      <article class="event-card reveal">
        <div class="event-title">KICKBOT ARENA (Robo Soccer)</div>
        <div class="event-meta">Levels II–III · Teams of 4 · 1-minute matches · 1v1 format</div>
        <ul class="rules">
          <li>Robot dimensions max 15 × 15 × 15 cm. Battery-powered only. One robot per team on field at a time.</li>
          <li>Match rules: 1 minute per game; scoring: 1 goal = 1 point. Tie-breakers by sudden death or judge decision.</li>
          <li>No human interference during play. Fouls/unsafe play may lead to penalties or disqualification.</li>
        </ul>
      </article>
    </div>

    <!-- LIGHTS, CAMERA, 60! (YouTube Shorts) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="300">
      <article class="event-card reveal">
        <div class="event-title">LIGHTS, CAMERA, 60! (YouTube Shorts)</div>
        <div class="event-meta">Levels II–III · Teams 1–4 · 60-second vertical videos</div>
        <ul class="rules">
          <li>Exactly 60 seconds (±5s). Vertical 9:16 format. All footage must be shot during the event.</li>
          <li>No copyrighted music. Use royalty-free audio or original music only.</li>
          <li>Submit final video to the coordinator. Judging: creativity, technical execution & storytelling.</li>
        </ul>
      </article>
    </div>

    <!-- APP VENTURE -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="350">
      <article class="event-card reveal">
        <div class="event-title">APP VENTURE (Launch the App)</div>
        <div class="event-meta">Levels II–III · Teams 2–4 · 3-minute demo + Q&A</div>
        <ul class="rules">
          <li>Apps must be original and built by participants. Any platform allowed. Bring device and chargers.</li>
          <li>Presentation: 3-minute demo & brief Q&A. Judges evaluate originality, functionality, design & presentation.</li>
          <li>Suggested themes: Helping Hands, Healthy Habits, Green Planet.</li>
        </ul>
      </article>
    </div>

    <!-- DIGITAL DETECTIVE (Debugging) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="400">
      <article class="event-card reveal">
        <div class="event-title">DIGITAL DETECTIVE (Debugging)</div>
        <div class="event-meta">Levels II–III · Teams 2–4 · Python</div>
        <ul class="rules">
          <li>Multi-stage debugging challenge. No outside help. Submit corrected code + explanation.</li>
          <li>Stages: Syntax, Logic, Mixed Debugging & Final Showdown. Judging: correctness, efficiency & teamwork.</li>
        </ul>
      </article>
    </div>

    <!-- AI STORYSCAPE (AI Storytelling) -->
    <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="450">
      <article class="event-card reveal">
        <div class="event-title">AI STORYSCAPE (AI Storytelling & Art)</div>
        <div class="event-meta">Level I · Up to 2 participants · Duration: 2 hours</div>
        <div class="mb-2"><span class="pill">AI-assisted allowed</span><span class="pill">5 images max</span></div>
        <ul class="rules">
          <li>Bring device with AI access. Use own accounts. Plagiarism prohibited. Work must be created during event.</li>
          <li>For Art: up to 5 AI-generated images allowed as references; final storytelling and presentation judged on creativity & prompt craft.</li>
        </ul>
      </article>
    </div>

  </div>
</div>


    <footer class="text-center mt-4">
      <p class="small text-muted mb-0">
        All participants must follow event marshals’ instructions. Event schedules, rules and eligibility may be updated by organizers — check final schedule before arrival. (Reference image: final events list included above.)
      </p>
    </footer>
  </div>
</section>


    <!-- Hotels Section -->
    <section id="hotels" class="hotels section my-5">
      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <p
          style="font-weight: 600"
          class="mb-3 text-black fs-1 text-black gradient-text"
        >
          Awards & Rewards
        </p>
      </div>
      <!-- End Section Title -->

      <div class="container">
        <div class="row gy-4">
          <div
            class="col-lg-4 col-md-6"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <div class="card h-100">
              <div class="card-img">
                <img src="./images/awards.jpg" alt="" class="img-fluid" />
              </div>
              <h3>
                <a href="#" class="stretched-link"
                  >Participate and Win Exciting Prizes</a
                >
              </h3>
              <div class="stars">
                Laptop • TV • Cash Rewards <i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i>
              </div>
              <!-- <p>0.4 Mile from the Venue</p> -->
            </div>
          </div>
          <!-- End Card Item -->

          <div
            class="col-lg-4 col-md-6"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <div class="card h-100">
              <div class="card-img">
                <img src="./images/masterclass.jpg" alt="" class="img-fluid" />
              </div>
              <h3><a href="#" class="stretched-link">Free Master Class</a></h3>
              <div class="stars">
                AI & Cyber Security <i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i>
              </div>

              <!-- <p>0.5 Mile from the Venue</p> -->
            </div>
          </div>
          <!-- End Card Item -->

          <div
            class="col-lg-4 col-md-6"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div class="card h-100">
              <div class="card-img">
                <img src="./images/intern.jpg" alt="" class="img-fluid" />
              </div>
              <h3>
                <a href="#" class="stretched-link"
                  >Free Internship Training with Industry</a
                >
              </h3>
              <div class="stars">
                Internships — Industry Partners <i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i
                ><i class="bi bi-star-fill"></i>
              </div>
            </div>
          </div>
          <!-- End Card Item -->
        </div>
      </div>
    </section>
<!-- 🔹 Loader Element -->
<div id="nestival-fullscreen-loader" aria-hidden="true" role="status">
  <div class="loader-box" aria-live="polite">
    <div class="spinner" aria-hidden="true"></div>
    <div class="loader-text">Submitting registration… please wait</div>
  </div>
</div>
    <footer
      class="footersection py-5 text-center"
      tyle="font-family: Niveau Grotesk, sans-serif"
    >
      <strong class="d-block text-white" data-aos="zoom-in" data-aos-delay="100"
        >Organized by <br />
        The NEST School</strong
      >
      <h2 class="textcolor2 my-1">Nestival'25</h2>
      <strong class="d-block text-white" data-aos="zoom-in" data-aos-delay="100"
        >Powered by Meenakshi Sundararajan Engineering College</strong
      >
      <div class="copyright-info text-white mt-3">
        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
        Copyright &copy;
        <script>
          document.write(new Date().getFullYear());
        </script>
        All rights reserved | The NEST School
        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
      </div>
      <div data-aos="zoom-in" data-aos-delay="300">
        <h5 class="text-white py-3">Address</h5>
        <p class="text-white">
          The NEST School 363, Arcot Road (NSK Salai), Kodambakkam, Chennai,
          Tamil Nadu 600 024
        </p>
      </div>
    </footer>

    <div class="d-none d-lg-block">
      <h5 class="styleregisterbtn"><small>Registeration starts from</small><br/>22 <sup>nd</sup>Sept'25</h5>
    <a href="#register" class="register-btn fs-3 ">Register</a>

    </div>
    <!-- Floating social media icon (mobile only) -->
<a href="#social-section" class="social-fab d-md-none">
  <i class="bi bi-share-fill"></i>
</a>

    <div class="social-floating  d-none d-lg-block">
      <!-- NEST School -->
      <div class="social-group">
        <h5 class=" fw-bold ">Social Media Links</h5>
        <button class="social-toggle btn">The NEST School</button>
        <div class="social-icons">
          <a href="https://www.youtube.com/@TheNESTSchoolChennai" target="_blank"
            ><i class="bi bi-youtube"></i
          ></a>
          <a href="https://www.instagram.com/accounts/login/?next=%2Fthenestschools%2F&source=omni_redirect&hl=en" target="_blank"
            ><i class="bi bi-instagram"></i
          ></a>
          <a href="https://x.com/the_nest_school?lang=en" target="_blank"
            ><i class="bi bi-twitter-x"></i
          ></a>
                    <a href="https://www.facebook.com/TheNESTSchoolChennai/" target="_blank"
            ><i class="bi bi-facebook"></i
          ></a>
        </div>
      </div>

      <!-- Nestival -->
      <!--<div class="social-group">-->
      <!--  <button class="social-toggle btn">Nestival</button>-->
      <!--  <div class="social-icons">-->
      <!--    <a href="https://youtube.com/nestival" target="_blank"-->
      <!--      ><i class="bi bi-youtube"></i-->
      <!--    ></a>-->
      <!--    <a href="https://instagram.com/nestival" target="_blank"-->
      <!--      ><i class="bi bi-instagram"></i-->
      <!--    ></a>-->
      <!--    <a href="https://x.com/nestival" target="_blank"-->
      <!--      ><i class="bi bi-twitter-x"></i-->
      <!--    ></a>-->
      <!--  </div>-->
      <!--</div>-->
    </div>

    <!-- Main content placeholder -->
    <main></main>

    <!-- Scripts: put JS at the end for faster page load -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

    <script>
      AOS.init({
        duration: 1000,
        once: true,
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Target date (22nd November 2025, midnight)
        const targetDate = new Date("2025-11-22T00:00:00").getTime();

        function updateCountdown() {
          const now = new Date().getTime();
          let diff = targetDate - now;

          if (diff < 0) diff = 0; // prevent negative numbers

          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor(
            (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);

          document.querySelector(".dday").textContent = days;
          document.querySelector(".dhour").textContent = hours
            .toString()
            .padStart(2, "0");
          document.querySelector(".dmin").textContent = minutes
            .toString()
            .padStart(2, "0");
          document.querySelector(".dsec").textContent = seconds
            .toString()
            .padStart(2, "0");
        }

        updateCountdown(); // run once immediately
        setInterval(updateCountdown, 1000); // update every second
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const groups = document.querySelectorAll(".social-group");

        groups.forEach((group) => {
          const btn = group.querySelector(".social-toggle");
          const icons = group.querySelector(".social-icons");

          btn.addEventListener("click", function (e) {
            e.stopPropagation();
            group.classList.toggle("open");
          });
        });

        // Close others when clicking outside
        document.addEventListener("click", function (e) {
          if (!e.target.closest(".social-group")) {
            groups.forEach((g) => g.classList.remove("open"));
          }
        });
      });
    </script>
<script>
document.addEventListener('DOMContentLoaded', function () {

  /* ------------------ Fullscreen loader (injected) ------------------ */
  (function createNestivalLoader() {
    if (document.getElementById('nestival-fullscreen-loader')) return;
    const style = document.createElement('style');
    style.id = 'nestival-loader-styles';
    style.textContent = `
#nestival-fullscreen-loader { position: fixed; inset: 0; display: none; z-index: 99999; background: rgba(0,0,0,0.55); align-items: center; justify-content: center; }
#nestival-fullscreen-loader .loader-box { text-align: center; padding: 22px; border-radius: 12px; background: rgba(255,255,255,0.98); min-width: 180px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); }
#nestival-fullscreen-loader .spinner { width: 56px; height: 56px; border-radius: 50%; border: 6px solid rgba(0,0,0,0.08); border-top-color: #0d6efd; animation: nestival-spin 1s linear infinite; margin: 8px auto 12px; }
@keyframes nestival-spin { 100% { transform: rotate(360deg); } }
#nestival-fullscreen-loader .loader-text { font-size: 15px; color: #111; margin-top: 6px; }
`;
    const div = document.createElement('div');
    div.id = 'nestival-fullscreen-loader';
    div.setAttribute('aria-hidden', 'true');
    div.setAttribute('role', 'status');
    div.innerHTML = `<div class="loader-box" aria-live="polite"><div class="spinner" aria-hidden="true"></div><div class="loader-text">Submitting registration… please wait</div></div>`;
    document.head.appendChild(style);
    document.body.appendChild(div);
  })();

  function showLoader(msg) {
    const el = document.getElementById('nestival-fullscreen-loader');
    if (!el) return;
    if (msg) {
      const t = el.querySelector('.loader-text');
      if (t) t.textContent = msg;
    }
    el.style.display = 'flex';
    el.setAttribute('aria-hidden', 'false');
    document.documentElement.style.overflow = 'hidden';
    document.body.style.overflow = 'hidden';
  }
  function hideLoader() {
    const el = document.getElementById('nestival-fullscreen-loader');
    if (!el) return;
    el.style.display = 'none';
    el.setAttribute('aria-hidden', 'true');
    document.documentElement.style.overflow = '';
    document.body.style.overflow = '';
  }

  /* ------------------ competitionDefs (your existing definitions) ------------------ */
 const competitionDefs = [

{
  id: "vibe_check",
  title: "VIBE CHECK",
  short: "High-energy interschool dance showdown",
  mode: "both",
  group: { min: 1, max: 12 },
  duration: { solo: "up to 2 minutes", group: "up to 4 minutes" },
  levels: "I (Grades 4–6), II (Grades 7–9), III (Grades 10–12)",
  theme: "Open theme",
  judgement: "Creativity, choreography, stagecraft, overall impact, adherence to time limits",
  detailsHtml: `
    <h4>VIBE CHECK — Dance</h4>
    <p>A high-energy interschool dance showdown celebrating creativity, movement and stagecraft. This event focuses purely on choreography, music, and live performance.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Clarity:</strong> Make sure your concept, music choice and choreography clearly reflect the theme.</li>
      <li><strong>Choreography:</strong> Strong formations, transitions, levels and movement vocabulary.</li>
      <li><strong>Timing & Sync:</strong> Clean counts, tight group work and well-timed highlights (big moves, freezes).</li>
      <li><strong>Expression & Stagecraft:</strong> Facial expression, energy, interaction with the audience and clear entrances/exits.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: I (Grades 4–6), II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo or Group</li>
      <li>Group size: Up to 12 performers</li>
      <li>Theme: Open theme</li>
      <li>Judgement criteria: Creativity, choreography, stagecraft, overall impact, adherence to time limits</li>
      <li>Duration: Solo — up to 2 minutes | Group — up to 4 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>Any dance style or fusion of styles is allowed (contemporary, hip-hop, classical, folk, freestyle, etc.) as long as it fits the theme.</li>
      <li>Pre-recorded music is allowed.</li>
      <li>Props allowed but must be pre-declared and safe.</li>
      <li>All media must be submitted 48 hours before the event. Music tracks should be submitted in .mp3 or .wav format.</li>
      <li>Bring all necessary cables and adaptors.</li>
      <li>Bring your soundscapes and necessary back-up files in a USB drive on the day of the event.</li>
      <li>Teams are responsible for their own props and quick setup/clearance (max 2 minutes).</li>
      <li>School-appropriate content only.</li>
    </ol>
  `
},

{
  id: "indie_blend",
  title: "INDIE BLEND",
  short: "Live group performance blending Indian and Western/indigenous instruments",
  mode: "both",
  group: { min: 1, max: 8 },
  duration: { solo: "up to 3 minutes", group: "up to 6 minutes" },
  levels: "I (Grades 4–6), II (Grades 7–9), III (Grades 10–12)",
  theme: "Fusion of Indian and Western/Indigenous musical styles and instruments",
  judgement: "Musicality, creativity in fusion, coordination, stage presence, and overall performance",
  detailsHtml: `
    <h4>INDIE BLEND — (Fusion Band)</h4>
    <p><strong>Music</strong></p>
    <p>A live group performance blending Indian and Western (or any indigenous) instruments and musical styles. Create original compositions or unique arrangements that bring the two traditions together.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Balance:</strong> Make sure Indian and Western/Indigenous elements support each other, not compete.</li>
      <li><strong>Arrangement:</strong> Plan clear sections where instruments take the lead.</li>
      <li><strong>Tight ensemble:</strong> Precision in rhythm and cues is essential.</li>
      <li><strong>Stage presence:</strong> Visual coordination and confident delivery matter as much as sound.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: I (Grades 4–6), II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo or Group</li>
      <li>Group size: Up to 8 performers</li>
      <li>Theme: Fusion of Indian and Western/Indigenous musical styles and instruments</li>
      <li>Judgement Criteria: Musicality, creativity in fusion, coordination, stage presence, and overall performance.</li>
      <li>Duration: Solo — up to 3 minutes | Group — up to 6 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>The performance must be entirely live — no pre-recorded tracks or karaoke allowed.</li>
      <li>No lip-syncing permitted.</li>
      <li>Original compositions or creative renditions of existing pieces are encouraged.</li>
      <li>All performances must adhere strictly to the time limits.</li>
    </ol>
  `
},


    {
  id: "mime",
  title: "SILENCE PLEASE!",
  short: "Silent physical storytelling using gesture and expression",
  mode: "both",
  group: { min: 1, max: 6 },
  duration: { solo: "up to 3 minutes", group: "up to 3 minutes" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "Fractured Realities",
  judgement: "Creativity, clarity of storytelling, expressions, synchronization, and overall stage impact",
  detailsHtml: `
    <h4>SILENCE PLEASE! — Mime</h4>
    <p><strong>Mime</strong></p>
    <p>Mime is a silent, physical storytelling performance using gesture, expression and movement to convey a narrative. Participants may use props and/or background recordings (see submission rules).</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Clarity:</strong> Make sure actions clearly communicate the narrative.</li>
      <li><strong>Expression & timing:</strong> Exaggerated but controlled facial expressions and precise timing.</li>
      <li><strong>Costume & props:</strong> Use costumes/makeup to enhance characters. Props may be used but must be safe and pre-declared.</li>
      <li><strong>Synchronization:</strong> Group mimes must be perfectly coordinated.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo or Group</li>
      <li>Group size: Up to 6 performers per group</li>
      <li>Theme: Fractured Realities</li>
      <li>Judgement Criteria: Creativity, clarity of storytelling, expressions, synchronization, and overall stage impact</li>
      <li>Duration: Up to 3 minutes</li>
    </ul>

    <h5>Rules & Resources</h5>
    <ol>
      <li>Mime entries must be silent — no dialogues or voiceovers allowed.</li>
      <li>Any background audio, visuals, or tracks must be submitted 48 hours before the event.</li>
      <li>Mime costumes and make-up are mandatory.</li>
      <li>Props are allowed but must be safe and pre-declared.</li>
      <li>Content must be school-appropriate and align with the theme.</li>
    </ol>
  `
},

   {
  id: "improv",
  title: "PLOT LUCK",
  short: "Unscripted improvisation performance responding to prompts",
  mode: "group",
  group: { min: 3, max: 6 },
  duration: { group: "up to 7 minutes" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "Prompts will be given on the spot",
  judgement: "Creativity, teamwork, quick thinking, stage presence, audience engagement, and overall impact",
  detailsHtml: `
    <h4>PLOT LUCK — (Improv)</h4>
    <p><strong>Improv</strong></p>
    <p>Improv (short for improvisation) is an unscripted, spontaneous performance where participants create scenes, characters, and stories on the spot in response to prompts. The focus is on quick thinking, creativity, and teamwork.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Spontaneity:</strong> Be ready to think fast and adapt.</li>
      <li><strong>Collaboration:</strong> Listen to teammates and build on their ideas.</li>
      <li><strong>Humour & engagement:</strong> Keep the audience entertained and involved.</li>
      <li><strong>Stage presence:</strong> Confidence, voice clarity, and movement make a big difference.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Group</li>
      <li>Group Size: 3–6 performers per team</li>
      <li>Theme: Prompts will be given on the spot</li>
      <li>Judgement Criteria: Creativity, teamwork, quick thinking, stage presence, audience engagement, and overall impact</li>
      <li>Duration: Up to 7 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>No scripts are allowed — performance must be fully improvised.</li>
      <li>Teams will receive their prompt at the registration counter.</li>
      <li>No offensive or inappropriate language, gestures, or themes permitted.</li>
      <li>Teams must stick to the time limit.</li>
      <li>Props and costumes may be used if simple and safe, but not required.</li>
    </ol>
  `
},


   {
  id: "pallete_play",
  title: "PALLETE PLAY",
  short: "Create an A3 artwork inspired by the theme 'Surreal Dreamscape' — AI references allowed for inspiration only",
  mode: "both",
  group: { min: 1, max: 2 },
  duration: { solo: "90 minutes", pair: "90 minutes" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "Surreal Dreamscape",
  judgement: "Creativity, originality, effective integration of AI references, composition, and overall visual impact",
  detailsHtml: `
    <h4>PALLETE PLAY — (Visual Art)</h4>
    <p><strong>Visual Art</strong></p>
    <p>Create an A3-sized hand-drawn or painted artwork inspired by the given theme. You may use AI for references, but you must declare it and produce a manually finished piece during the event.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Concept:</strong> Choose a clear surreal dreamscape idea before you start.</li>
      <li><strong>Integration:</strong> You may bring references to inspire composition, colour, texture, but don’t copy directly from AI or internet sources.</li>
      <li><strong>Execution:</strong> Strong composition, confident mark-making, and neat finishing.</li>
      <li><strong>Time management:</strong> You have 90 minutes — plan sketch, colour, and final details carefully.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo or Pairs</li>
      <li>Theme: Surreal Dreamscape</li>
      <li>Judgement Criteria: Creativity, originality, effective integration of AI references, composition, and overall visual impact.</li>
      <li>Duration: 90 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>Final artwork must be created on-site during the event.</li>
      <li>Any visual art medium is allowed (paints, markers, collage, mixed media).</li>
      <li>AI-assisted tools may be used only for reference; final work must be manually executed.</li>
      <li>Participants must bring their own art supplies (paints, brushes, pencils, markers, paper, etc.).</li>
      <li>Participants must bring their own devices (if they want to view AI references).</li>
      <li>Submit your completed artwork at the end of the session.</li>
    </ol>
  `
},

   {
  id: "eco_hues",
  title: "ECO HUES — (Rangoli/Kolam from Biodegradable Materials)",
  short: "Traditional rangoli art using only eco-friendly, biodegradable materials",
  mode: "both",
  group: { min: 1, max: 4 },
  duration: { solo: "90 minutes", group: "90 minutes" },
  levels: "I (Grades 4–6), II (Grades 7–9)",
  theme: "Open theme",
  judgement: "Creativity, design, colour harmony, use of eco-friendly materials, and overall visual impact",
  detailsHtml: `
    <h4>ECO HUES — (Rangoli/Kolam from Biodegradable Materials)</h4>
    <p><strong>Visual Art</strong></p>
    <p>Traditional rangoli art made using only eco-friendly, biodegradable materials to celebrate sustainability and creativity.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Design & concept:</strong> Strong, meaningful composition that reflects a sustainable planet.</li>
      <li><strong>Material use:</strong> Use only natural, biodegradable items — showcase creativity with textures (flowers, pulses, rice flour, sand).</li>
      <li><strong>Neatness & finish:</strong> Clean edges and harmonious colour balance.</li>
      <li><strong>Teamwork:</strong> Coordinate layout and time management with your team for a unified design.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: I (Grades 4–6), II (Grades 7–9)</li>
      <li>Participation: Solo or Group</li>
      <li>Group size: Teams up to 4 participants</li>
      <li>Theme: Open theme</li>
      <li>Judgement Criteria: Creativity, design, colour harmony, use of eco-friendly materials, and overall visual impact</li>
      <li>Duration: 90 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>Only natural, biodegradable materials are allowed (flowers, pulses, rice flour, sand, etc.).</li>
      <li>Each team will be provided a 3 m × 3 m workspace.</li>
      <li>Plastic, glitter, synthetic paints, or foam are strictly prohibited.</li>
      <li>Participants must bring their own eco-friendly materials for the rangoli.</li>
    </ol>
  `
},

   {
  id: "flipside_turncoat",
  title: "FLIPSIDE — (Turncoat Debate)",
  short: "Solo debate where participants argue both for and against the motion",
  mode: "solo",
  group: null,
  duration: { solo: "6 minutes total (2.5 for FOR, 2.5 for AGAINST, 1 minute conclusion)" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "AI and Our Future",
  judgement: "Content quality, adaptability while switching sides, logical reasoning, rebuttal strength, delivery, and overall persuasiveness",
  detailsHtml: `
    <h4>FLIPSIDE — (Turncoat Debate)</h4>
    <p><strong>Debate</strong></p>
    <p>Turncoat is a unique debate format where a single speaker must argue both for and against the same motion, and then conclude with a balanced summary. The heart of a turncoat debate lies in how convincingly you argue both sides with equal strength — showcasing adaptability, logic, and balance.</p>

    <h5>Format and Structure</h5>
    <ul>
      <li>Each participant is allotted 6 minutes in total.</li>
      <li>Structure:</li>
      <ul>
        <li>For the motion — 2.5 minutes</li>
        <li>Against the motion — 2.5 minutes</li>
        <li>Conclusion/summary — 1 minute</li>
      </ul>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo</li>
      <li>Topic: AI and Our Future</li>
      <li>Judgement Criteria: Content quality, adaptability while switching sides, logical reasoning, rebuttal strength, delivery, and overall persuasiveness</li>
    </ul>

    <h5>Rules & Regulations</h5>
    <ol>
      <li>Participants must clearly indicate the transition when shifting from FOR to AGAINST.</li>
      <li>Personal attacks, offensive language, or inappropriate behaviour will lead to immediate disqualification.</li>
      <li>Citations and facts must be accurate and verifiable.</li>
      <li>The use of notes, supporting materials, or electronic devices during the debate is not allowed.</li>
    </ol>
  `
},


   {
  id: "vision_drop",
  title: "VISION DROP — (TEDx-style Talk)",
  short: "Short, inspiring TEDx-style talk presenting innovative ideas for a sustainable future",
  mode: "solo",
  group: null,
  duration: { solo: "4–5 minutes" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "Innovations for a Sustainable Future",
  judgement: "Originality of ideas, clarity of structure, delivery, engagement, and stage presence",
  detailsHtml: `
    <h4>VISION DROP — (TEDx-style Talk)</h4>
    <p><strong>Public Speaking</strong></p>
    <p>A short, inspiring talk (TEDx-style) presenting big ideas or creative solutions on innovations for a sustainable future. Aim for clarity, storytelling, and strong takeaways.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Original idea:</strong> Present one clear insight or solution.</li>
      <li><strong>Structure:</strong> Strong opening, clear body, memorable conclusion.</li>
      <li><strong>Delivery:</strong> Engage the audience with pacing, tone, and eye contact.</li>
      <li><strong>Slides:</strong> Keep slides visual, concise, and relevant to the message.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo</li>
      <li>Theme: Innovations for a Sustainable Future</li>
      <li>Judgement Criteria: Originality of ideas, clarity of structure, delivery, engagement, and stage presence</li>
      <li>Duration: 4–5 minutes</li>
    </ul>

    <h5>Rules & Resources</h5>
    <ol>
      <li>Presentations must be authentic and based on the participant’s own ideas.</li>
      <li>All media (slides, audio, video) must be submitted 48 hours before the event.</li>
    </ol>
  `
},

    {
  id: "shark_tank",
  title: "SHARK TANK JUNIOR — (Entrepreneurial Product/Service Presentation)",
  short: "Student pitch challenge presenting an innovative product or service to judges",
  mode: "both",
  group: { min: 1, max: 4 },
  duration: { pitch: "up to 4 minutes", qa: "up to 2 minutes" },
  levels: "II (Grades 7–9), III (Grades 10–12)",
  theme: "Open category",
  judgement: "Innovation & originality, feasibility & planning, market awareness, clarity of pitch & presentation, and overall impact",
  detailsHtml: `
    <h4>SHARK TANK JUNIOR — (Entrepreneurial Product/Service Presentation)</h4>
    <p><strong>Entrepreneurship / Pitch</strong></p>
    <p>Shark Tank Junior is a student pitch challenge where young innovators present a product, service, or idea to a panel of judges. Teams must clearly explain the problem they’re solving, demonstrate value, and persuade the judges that their idea is viable and impactful. This is a creative, fast-paced event that rewards clear thinking, practicality, and confident storytelling.</p>

    <h5>What you should focus on</h5>
    <ul>
      <li><strong>Problem:</strong> Describe the real problem or need your idea addresses — who is affected and why it matters.</li>
      <li><strong>Solution & Value:</strong> Explain your product/service simply and show how it solves the problem better than alternatives.</li>
      <li><strong>Feasibility:</strong> Show that your idea can be made or delivered — basic cost, materials, and steps to build or launch.</li>
      <li><strong>Market & Impact:</strong> Who will buy or use this? Estimate size, pricing, and the social or environmental impact.</li>
      <li><strong>Presentation & Pitchcraft:</strong> Clear structure (hook → demo → ask), confident delivery, and strong visuals or props.</li>
      <li><strong>Prototype / Demo (if any):</strong> A working demo, mock-up, or clear visual mock helps — keep it safe and reliable.</li>
    </ul>

    <h5>Details</h5>
    <ul>
      <li>Levels: II (Grades 7–9), III (Grades 10–12)</li>
      <li>Participation: Solo or Group</li>
      <li>Group Size: Up to 4 participants</li>
      <li>Theme: Open category</li>
      <li>Judgement Criteria: Innovation & originality, feasibility & planning, market awareness, clarity of pitch & presentation, and overall impact</li>
      <li>Duration: Pitch — up to 4 minutes; Q&A with judges — up to 2 minutes</li>
    </ul>

    <h5>Rules & Guidelines</h5>
    <ol>
      <li>Pitches must be the original work of the student(s). Significant adult or external work must be acknowledged.</li>
      <li>All products, prototypes, and demonstrations must be safe, non-toxic, and school-appropriate. Hazardous items are strictly prohibited.</li>
      <li>Teams must submit a one-page summary (idea, target user, basic costs, and ask) and slides (if any) 48 hours before the event.</li>
      <li>Any props, physical prototypes, or samples must be declared at registration and be quick to set up (max 2 minutes).</li>
      <li>Judges will act as investors and will ask questions during the Q&A.</li>
      <li>No live sales or solicitation to the audience during the event.</li>
    </ol>
  `
},


    /***** TECH EVENTS & MISC *****/
{
  id: "drone_dash",
  title: "DRONE DASH — (Drone Obstacle Race)",
  short: "Exciting drone obstacle race testing speed, precision, and control",
  mode: "group",
  group: { min: 1, max: 2 },
  duration: { team: "Varies by round" },
  levels: "Level I, II (Up to 2 participants)",
  judgement: "Speed, avoiding obstacles, fair play & adherence to rules, teamwork, and control skills",
  detailsHtml: `
    <h4>DRONE DASH — (Drone Obstacle Race)</h4>
    <p><strong>Technology / Robotics</strong></p>
    <p>Drone Dash is an exciting obstacle challenge where teams navigate their own drones through gates, hoops, and tunnels — testing speed, precision, and control. Bring your drone, gear up, and get ready to race against time!</p>

    <h5>Levels</h5>
    <p>Level I & II (Up to 2 participants per team)</p>

    <h5>Instructions</h5>
    <ul>
      <li>All participants must bring their own drone to take part in the competition.</li>
      <li>Ensure your drone is fully charged and in proper working condition before arrival.</li>
      <li>Teams are responsible for carrying any accessories or attachments required (e.g., propeller guards, landing gear, balloon-popping sticks, etc.).</li>
      <li>The organizers will not provide drones; only the obstacle course and event setup will be arranged at the venue.</li>
      <li>Safety gear such as goggles and helmets is mandatory during the event.</li>
      <li>Participants should test and be familiar with their own drones prior to the competition to avoid technical delays.</li>
    </ul>

    <h5>Judgement Criteria</h5>
    <ul>
      <li>Speed and precision</li>
      <li>Obstacle avoidance</li>
      <li>Fair play and adherence to rules</li>
      <li>Teamwork and control skills</li>
    </ul>
  `
},



{
  id: "maze_o_bots",
  title: "MAZE-O-BOTS — (Robot Maze Challenge)",
  short: "Autonomous robot navigates a maze — fastest successful run wins",
  mode: "group",
  group: { min: 1, max: 1 },
  duration: { run: "1–2 minutes per run" },
  levels: "Level I, II",
  theme: "Autonomous robotics challenge",
  judgement: "Maze completion, performance, design & engineering, autonomy & coding/logic, explanation & presentation",
  detailsHtml: `
    <h4>MAZE-O-BOTS — (Robot Maze Challenge)</h4>
    <p><strong>Robotics / Engineering</strong></p>
    <p>Guide your robot through the maze as fast as possible — no remote controls allowed! The fastest bot to complete the maze wins.</p>

    <h5>Levels</h5>
    <p>Level I, II</p>

    <h5>Robotic Requirements</h5>
    <ul>
      <li>The robot must navigate the maze autonomously (no remote control or manual help).</li>
      <li>It may use sensors, coding, or pre-set instructions.</li>
      <li>Size limit: Must fit within 12 cm × 12 cm × 10 cm to enter the maze (ground clearance 1–2 cm).</li>
      <li>Power: Ensure your robot has charged batteries or a reliable power source.</li>
    </ul>

    <h5>Maze Details</h5>
    <ul>
      <li>The maze will include walls, turns, and dead ends.</li>
      <li>All bots start from the Start Line and must reach the Finish Zone.</li>
      <li>The maze layout will be the same for all bots and revealed at the event.</li>
    </ul>

    <h5>Race Rules</h5>
    <ol>
      <li>Each bot gets 1–2 minutes to complete the maze.</li>
      <li>Each team receives one trial before the official run.</li>
      <li>If your bot gets stuck you may:
        <ul>
          <li>Request one restart from the beginning, or</li>
          <li>Let the timer run and accept the distance/time achieved.</li>
        </ul>
      </li>
      <li>No touching or steering the robot during the run.</li>
      <li>Fastest successful completion wins.</li>
    </ol>

    <h5>What to Bring</h5>
    <ul>
      <li>Your robot (fully built and tested).</li>
      <li>Charging cable or spare batteries.</li>
      <li>A name tag for your bot.</li>
      <li>Optional: Poster or explanation of how your bot works.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Maze completion</li>
      <li>Performance</li>
      <li>Design & engineering</li>
      <li>Autonomy & coding/logic</li>
      <li>Explanation & presentation</li>
    </ul>
  `
},



 {
  id: "kickbot_arena",
  title: "KICKBOT ARENA — (Robo Soccer)",
  short: "Robot soccer challenge — build, control, and score goals in a 1-minute match",
  mode: "group",
  group: { min: 4, max: 4 },
  duration: { match: "1 minute per game" },
  levels: "Level II & III",
  theme: "Robotics and control challenge",
  judgement: "Scoring goals, teamwork, bot design, reliability, and control performance",
  detailsHtml: `
    <h4>KICKBOT ARENA — (Robo Soccer)</h4>
    <p><strong>Robotics / Engineering</strong></p>
    <p>Build and control a robot that can play soccer! Your robot will try to score goals while defending its own side. Compete head-to-head in a 1-minute match of skill, control, and quick thinking.</p>

    <h5>Levels</h5>
    <p>Level II & III</p>

    <h5>Team Guidelines</h5>
    <ul>
      <li>Teams of 4 students.</li>
      <li>Each team must bring one robot to compete.</li>
      <li>Only one robot per team is allowed on the field at a time.</li>
    </ul>

    <h5>Robot Requirements</h5>
    <ul>
      <li><strong>Bot Dimensions:</strong> 15 cm × 15 cm × 15 cm (max)</li>
      <li><strong>Weight:</strong> ≤ 1.5–2 kg (including battery)</li>
      <li><strong>Power:</strong> Only battery-powered bots allowed (no wall plugs)</li>
      <li><strong>Control Type:</strong> Can be wired or autonomous</li>
      <li><strong>Allowed Parts:</strong>
        <ul>
          <li>LEGO, Arduino, Raspberry Pi, VEX, or other DIY kits are welcome.</li>
          <li>Wheels, tracks, or legs allowed — must be safe and stable.</li>
        </ul>
      </li>
    </ul>

    <h5>The Playing Field</h5>
    <ul>
      <li><strong>Field Size:</strong> 150 cm (L) × 90 cm (W)</li>
      <li><strong>Goal Post Size:</strong> 20 cm (W) × 15 cm (H)</li>
      <li><strong>Center Circle:</strong> Radius 15 cm</li>
      <li><strong>Ball Dimensions:</strong> 6–8 cm</li>
    </ul>

    <h5>Match Rules</h5>
    <ul>
      <li>Match time: 1 minute per game.</li>
      <li>1v1 format (one team vs another).</li>
      <li>Teams switch sides after each match (4 matches total).</li>
      <li>Kick-off from the center to start each game.</li>
      <li>Robots must stay within field boundaries.</li>
      <li>No flipping, damaging, or trapping opponent bots.</li>
      <li>Only the robot may touch the ball (no hands or human interference).</li>
      <li>If the ball goes out of bounds, the referee will place it back at the center or nearest side.</li>
    </ul>

    <h5>Fouls & Penalties</h5>
    <ul>
      <li>Manual interference: Warning or disqualification.</li>
      <li>Unsafe pushing or blocking opponent robot: 1-point penalty.</li>
      <li>Bots that fail to function may be given one retry before being marked inactive.</li>
    </ul>

    <h5>Scoring</h5>
    <ul>
      <li>Each goal = 1 point.</li>
      <li>The team with more goals at the end of the match wins.</li>
      <li>In case of a tie:
        <ul>
          <li>Sudden death (next goal wins), or</li>
          <li>Judge’s decision based on performance.</li>
        </ul>
      </li>
    </ul>

    <h5>What to Bring</h5>
    <ul>
      <li>Your robot, controller (if applicable), and extra batteries.</li>
      <li>Any coding or setup tools required.</li>
      <li>Optional: A short explanation or poster on how your bot works.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Scoring Goals</li>
      <li>Teamwork</li>
      <li>Bot Design & Reliability</li>
      <li>Control & Strategy</li>
    </ul>
  `
},


{
  id: "lights_camera_60",
  title: "LIGHTS, CAMERA, 60! — (YouTube Shorts)",
  short: "Create a 60-second vertical video on-site based on the theme 'NESTival 2025'",
  mode: "both",
  group: { min: 1, max: 4 },
  duration: { session: "1–2 hours (shooting & editing)" },
  levels: "Level II & III",
  theme: "NESTival 2025",
  judgement: "Creativity & originality, technical execution, relevance to theme, storytelling clarity, and editing expertise",
  detailsHtml: `
    <h4>LIGHTS, CAMERA, 60! — (YouTube Shorts)</h4>
    <p><strong>Media / Film</strong></p>
    <p>Big ideas in small videos! Participants will script, shoot, and edit a <strong>60-second vertical video</strong> on the theme <strong>"NESTival 2025"</strong>. All footage must be captured on-site — no pre-recorded clips are allowed.</p>

    <h5>Levels</h5>
    <p>Level II & III (Up to 4 participants per team)</p>

    <h5>Create Your Video (Shoot & Edit)</h5>
    <ul>
      <li><strong>Time given:</strong> 1–2 hours (customizable).</li>
      <li>Teams will plan, shoot, and edit a vertical video entirely on-site.</li>
      <li>All footage must be captured during the event — no pre-recorded clips or external footage.</li>
    </ul>

    <h5>Devices & Software</h5>
    <ul>
      <li>Smartphones or tablets (own devices or school-provided).</li>
      <li>Basic editing apps allowed (CapCut, VN, InShot, etc.).</li>
      <li>AI-generated visuals and VFX can also be included.</li>
      <li>Props and costumes (if brought or provided) may be used creatively.</li>
    </ul>

    <h5>Video Requirements</h5>
    <ul>
      <li>Must be 60 seconds or less.</li>
      <li>Must be in vertical format (9:16).</li>
      <li>Must follow the theme <strong>"NESTival 2025"</strong>.</li>
      <li>Content must be child-safe, non-violent, and original.</li>
      <li>Optional: Add background music, captions, or voiceover (no copyrighted tracks).</li>
    </ul>

    <h5>Submission</h5>
    <ul>
      <li>After editing, each team must present their video to an event coordinator for verification.</li>
      <li>Submit the final file via the provided upload link or Google Drive folder.</li>
    </ul>

    <h5>What to Bring</h5>
    <ul>
      <li>Smartphone or tablet with a working camera.</li>
      <li>Pre-installed basic editing app.</li>
      <li>Headphones (optional).</li>
      <li>Charging cable or power bank.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Creativity & Originality</li>
      <li>Technical Execution</li>
      <li>Relevance to Theme</li>
      <li>Storytelling & Clarity</li>
      <li>Editing Expertise</li>
    </ul>

    <h5>Theme</h5>
    <p><strong>NESTival 2025</strong></p>
  `
},



{
  id: "app_venture",
  title: "APP VENTURE — (Launch the App)",
  short: "Design and launch an original app that solves a real-world problem or inspires change",
  mode: "group",
  group: { min: 2, max: 4 },
  duration: { presentation: "3 minutes per team" },
  levels: "Level II & III",
  theme: "Helping Hands, Healthy Habits, Green Planet",
  judgement: "Originality, functionality, purpose, design & usability, and presentation quality",
  detailsHtml: `
    <h4>APP VENTURE — (Launch the App)</h4>
    <p><strong>Technology / Innovation</strong></p>
    <p>Design and develop a simple, original app that solves a problem, entertains, educates, or inspires — then present and launch it live at the event!</p>

    <h5>Levels</h5>
    <p>Level II & III (Team size: 2–4 participants)</p>

    <h5>App Requirements</h5>
    <ul>
      <li>The app must be original and built entirely by the participant(s).</li>
      <li>Apps can be created using any platform or tool — e.g., MIT App Inventor, Thunkable, Kodular, Swift Playground, or Android Studio.</li>
      <li>Should be simple yet functional — no minimum complexity required.</li>
      <li>App categories can include:
        <ul>
          <li>Educational tools</li>
          <li>Utility or productivity apps</li>
          <li>Creative or artistic apps</li>
        </ul>
      </li>
      <li>Apps must run smoothly on Android or iOS devices.</li>
      <li>Internet connection may or may not be required depending on functionality.</li>
    </ul>

    <h5>Presentation & Launch at the Event</h5>
    <ul>
      <li>Each team will get <strong>3 minutes</strong> to:</li>
      <ol>
        <li>Introduce themselves and their app.</li>
        <li>Explain the idea, purpose, and features.</li>
        <li>Show a live demo of the app.</li>
        <li>Answer short questions from judges/audience.</li>
      </ol>
      <li>Teams may bring supporting materials like posters, slides, or prototype sketches.</li>
      <li>Devices will be connected to a projector or large screen for the live demonstration.</li>
    </ul>

    <h5>What to Bring</h5>
    <ul>
      <li>Your device with the app installed and tested.</li>
      <li>Charging cable or backup battery.</li>
      <li>Optional: Supporting presentation materials.</li>
      <li>A printed or digital copy of the app description.</li>
    </ul>

    <h5>Guidelines</h5>
    <ul>
      <li>All work must be original and created by the participants.</li>
      <li>No plagiarism or reuse of pre-built apps without meaningful modification.</li>
      <li>Participants must test their app in advance to ensure smooth operation.</li>
      <li>Strictly adhere to the 3-minute presentation time limit.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Originality</li>
      <li>Functionality</li>
      <li>Purpose / Impact</li>
      <li>Design & Usability</li>
      <li>Presentation & Demo Quality</li>
    </ul>

    <h5>Themes</h5>
    <ul>
      <li><strong>Helping Hands:</strong> Apps that address food wastage.</li>
      <li><strong>Healthy Habits:</strong> Apps promoting mental health and wellbeing.</li>
      <li><strong>Green Planet:</strong> Apps supporting environmental awareness and sustainability.</li>
    </ul>
  `
},





 {
  id: "digital_detective",
  title: "DIGITAL DETECTIVE — (Debugging)",
  short: "Teams debug Python programs to uncover clues and solve a cyber mystery",
  mode: "group",
  group: { min: 2, max: 4 },
  duration: { stages: "Multi-stage debugging challenge" },
  levels: "Level II & III (Team: 2–4 participants)",
  theme: "Cyber Investigation & Debugging",
  judgement: "Correctness, accuracy, efficiency, team contribution, story progression, and time management",
  detailsHtml: `
    <h4>DIGITAL DETECTIVE — (Debugging)</h4>
    <p><strong>Technology / Coding</strong></p>
    <p>Step into the world of cyber investigation! Students act as digital detectives — debugging Python programs that reveal clues to solve a thrilling cybercrime mystery. Each corrected program brings the team one step closer to catching the hacker.</p>

    <h5>Levels</h5>
    <p>Level II & III (Team size: 2–4 participants)</p>

    <h5>Competition Stages</h5>
    <ol>
      <li><strong>Stage 1:</strong> Evidence Collection — Identify and fix <em>syntax errors</em>.</li>
      <li><strong>Stage 2:</strong> Tracing the Hacker — Resolve <em>logic errors</em>.</li>
      <li><strong>Stage 3:</strong> Breaking the Code — Mixed debugging challenges.</li>
      <li><strong>Stage 4:</strong> Catch the Criminal — The final timed showdown!</li>
    </ol>

    <h5>Rules</h5>
    <ul>
      <li>Each team works as a cyber-investigation unit.</li>
      <li>All programs will be provided in <strong>Python</strong>.</li>
      <li>Programs must be debugged within the given time limit for each stage.</li>
      <li>No external assistance or internet browsing (unless explicitly part of the challenge).</li>
      <li>Teams must submit both the corrected code and a brief explanation of the bug fixed.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Correctness</li>
      <li>Accuracy</li>
      <li>Efficiency</li>
      <li>Team Contribution</li>
      <li>Story Progression</li>
      <li>Time Management</li>
    </ul>
  `
},

{
  id: "ai_storyscape",
  title: "AI STORYSCAPE — (AI Storytelling)",
  short: "Create original stories and AI-generated artwork using crafted prompts",
  mode: "both",
  group: { min: 1, max: 2 },
  duration: { session: "2 hours" },
  levels: "Level I (Up to 2 participants)",
  theme: "Creativity through AI-assisted storytelling and art",
  judgement: "Creativity of idea, effective use of AI, storytelling quality, and presentation",
  detailsHtml: `
    <h4>AI STORYSCAPE — (AI Storytelling)</h4>
    <p><strong>AI & Creativity</strong></p>
    <p>Students will use AI tools to create original artwork and stories by crafting effective prompts. The challenge celebrates creativity, storytelling, and thoughtful integration of AI in the creative process.</p>

    <h5>Levels</h5>
    <p>Level I (Up to 2 participants)</p>

    <h5>Duration</h5>
    <p>2 hours</p>

    <h5>Instructions</h5>
    <ul>
      <li>Bring a device with AI access (laptop or tablet) and a charger.</li>
      <li>Use only your own AI accounts or subscriptions.</li>
      <li>Plagiarism is strictly prohibited — no copy-paste from pre-written AI outputs.</li>
      <li>All work must be created during the competition time.</li>
      <li>You may use free stock elements (fonts, layouts, icons), but the <strong>core story and artwork</strong> must be AI-generated.</li>
      <li><strong>For Art:</strong> DALL·E, MidJourney, Stable Diffusion, or Canva AI (maximum 5 images allowed).</li>
      <li><strong>For Story Writing:</strong> ChatGPT, Claude, Google Gemini, or similar AI writing tools.</li>
      <li>Students must bring their own laptops/tablets with active AI access or subscriptions.</li>
    </ul>

    <h5>Judging Criteria</h5>
    <ul>
      <li>Creativity of Idea</li>
      <li>Effective Use of AI Tools</li>
      <li>Storytelling & Narrative Quality</li>
      <li>Presentation & Delivery</li>
    </ul>
  `
},



    /* ... keep your competitionDefs exactly as before ... */
    /* (Omitted here for brevity — paste your existing competitionDefs array) */
  ];

  /* ---------- state: students array ---------- */
  const students = []; // {id, name, grade}
  let studentIdCounter = 1;

  /* ---------- DOM refs ---------- */
  const studentsList = document.getElementById('studentsList');
  const addStudentBtn = document.getElementById("addStudentBtn");
  const newStudentName = document.getElementById("newStudentName");
  const newStudentGrade = document.getElementById("studentNewGrade") || document.getElementById("newStudentGrade");
  const competitionsList = document.getElementById('competitionsList');
  const wrapper = document.getElementById('competitionsWrapper');
  const regForm = document.getElementById('regForm');
  const submitBtn = document.getElementById('submitBtn');

  // New fields (heard about)
  const heardSelect = document.getElementById('heardAbout');
  const heardOtherInput = document.getElementById('heardOther');

  if (!studentsList || !competitionsList || !wrapper || !regForm) { console.error("Missing required DOM elements."); return; }

  /* ---------- helper escape ---------- */
  function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m];}); }

  /* ---------- render competitions checkboxes ---------- */
  competitionsList.innerHTML = '';
  competitionDefs.forEach(c => {
    const col = document.createElement('div');
    col.className = "col-12";
    col.innerHTML = `
      <div class="form-check d-flex align-items-center justify-content-between">
        <div>
          <input class="form-check-input comp-checkbox" type="checkbox" value="${c.id}" id="chk_${c.id}">
          <label class="form-check-label ms-2" for="chk_${c.id}"><strong>${escapeHtml(c.title)}</strong> — <small>${escapeHtml(c.short || '')}</small></label>
        </div>
        <div>
          <button type="button" class="btn btn-sm btn-link view-details" data-id="${c.id}">View details</button>
        </div>
      </div>
    `;
    competitionsList.appendChild(col);
  });

  /* view details -> open a modal showing comp.detailsHtml */
  competitionsList.addEventListener('click', (e) => {
    const btn = e.target.closest && e.target.closest('.view-details');
    if (!btn) return;
    const id = btn.dataset.id;
    const comp = competitionDefs.find(x => x.id === id);
    if (!comp) return;
    showEventViewerModal(comp);
  });

  /* ---------- manage registration type UI ---------- */
  function updateRegistrationTypeUI() {
    const regType = document.querySelector('input[name="regType"]:checked').value;
    document.getElementById('schoolTopBlock').style.display = regType === 'school' ? '' : 'none';
    document.getElementById('individualBlock').style.display = regType === 'individual' ? '' : 'none';

    // If individual, force solo-only in existing panels UI
    document.querySelectorAll('.card.mb-3').forEach(panel=>{
      if (!panel) return;
      if (regType === 'individual') {
        panel.dataset.groupCount = '0';
        panel.querySelectorAll('.event-student-mode').forEach(sel=>{
          if (!sel) return;
          sel.innerHTML = '<option value="solo">Solo</option>';
          sel.value = 'solo';
          sel.disabled = true;
        });
        const gc = panel.querySelector(`#groupCount_${panel.id.replace('panel_','')}`);
        if (gc) gc.value = '0';
      } else {
        panel.querySelectorAll('.event-student-mode').forEach(sel=>{ if (sel) sel.disabled = false; });
      }
    });
  }
  document.querySelectorAll('input[name="regType"]').forEach(r => r.addEventListener('change', updateRegistrationTypeUI));
  updateRegistrationTypeUI();

  /* ---------- students management ---------- */
  function renderStudentsArea() {
    studentsList.innerHTML = '';
    if (students.length === 0) {
      studentsList.innerHTML = '<div class="text-muted">No students added yet.</div>';
    } else {
      const ul = document.createElement('div');
      students.forEach(s => {
        const el = document.createElement('div');
        el.className = 'd-flex align-items-center gap-2 mb-1';
        el.innerHTML = `
          <div><strong>${escapeHtml(s.name)}</strong> — <small>${escapeHtml(s.grade)}</small></div>
          <div class="ms-auto">
            <button type="button" class="btn btn-sm btn-outline-danger" data-action="remove" data-id="${s.id}">Remove</button>
          </div>
        `;
        ul.appendChild(el);
      });
      studentsList.appendChild(ul);
    }
    // update student lists inside each event panel
    document.querySelectorAll('.event-students-area').forEach(area => {
      const compId = area.dataset.comp;
      populateEventStudentControls(compId);
    });
  }

  addStudentBtn.addEventListener('click', function() {
    const name = newStudentName.value.trim();
    const grade = newStudentGrade ? newStudentGrade.value : '';

    if (!name) { alert('Student name is required'); return; }
    if (!grade) { alert('Please select a grade'); return; }

    students.push({ id: studentIdCounter++, name, grade });

    newStudentName.value = '';
    if (newStudentGrade) newStudentGrade.value = '';

    renderStudentsArea();
  });

  studentsList.addEventListener('click', function(e){
    const btn = e.target.closest('button[data-action="remove"]');
    if (!btn) return;
    const id = parseInt(btn.dataset.id,10);
    const idx = students.findIndex(s=>s.id===id);
    if (idx>=0) students.splice(idx,1);
    renderStudentsArea();
  });

  /* ---------- competitions panels handling ---------- */
  document.addEventListener('change', function(e){
    const chk = e.target.closest && e.target.closest('.comp-checkbox');
    if (!chk) return;
    const compId = chk.value;
    if (chk.checked) addCompetitionPanel(compId);
    else removeCompetitionPanel(compId);
  });

  window.addEventListener('load', function(){
    document.querySelectorAll('.comp-checkbox:checked').forEach(chk=>{
      if (!document.getElementById(`panel_${chk.value}`)) addCompetitionPanel(chk.value);
    });
    renderStudentsArea();
    updateRegistrationTypeUI();
  });

  /* ---------- populate student controls in an event panel ---------- */
  function populateEventStudentControls(compId) {
    const area = document.querySelector(`.event-students-area[data-comp="${compId}"]`);
    if (!area) return;
    area.innerHTML = '';
    if (students.length === 0) {
      area.innerHTML = '<div class="text-muted">Add students above to assign them to this event.</div>';
      return;
    }
    const panel = document.getElementById(`panel_${compId}`);
    const groupCount = parseInt(panel.dataset.groupCount || '0',10); // 0 => group disabled
    students.forEach(s => {
      const row = document.createElement('div');
      row.className = 'd-flex gap-2 align-items-center mb-1';
      let opts = `<option value="solo">Solo</option>`;
      if (groupCount > 0) {
        for (let i=1;i<=groupCount;i++){
          opts += `<option value="group:${i}">Group ${i}</option>`;
        }
      }
      row.innerHTML = `
        <div class="form-check">
          <input class="form-check-input event-student-checkbox" type="checkbox" id="chk_${compId}_stu_${s.id}" data-comp="${compId}" data-stu="${s.id}">
        </div>
        <label class="form-check-label" for="chk_${compId}_stu_${s.id}">${escapeHtml(s.name)} <small>(${escapeHtml(s.grade)})</small></label>
        <select class="form-select form-select-sm ms-2 event-student-mode" data-comp="${compId}" data-stu="${s.id}" style="width:160px;">
          ${opts}
        </select>
      `;
      area.appendChild(row);
    });
  }

  /* ---------- addCompetitionPanel ---------- */
  function addCompetitionPanel(compId) {
    const comp = competitionDefs.find(x=>x.id===compId);
    if (!comp) return;
    if (document.getElementById(`panel_${compId}`)) return;

    const panel = document.createElement('div');
    panel.className = 'card mb-3';
    panel.id = `panel_${compId}`;
    panel.dataset.groupCount = comp.group ? 1 : 0; // default 1 group allowed if comp.group exists, else 0

    panel.innerHTML = `
      <div class="card-body">
        <div class="d-flex align-items-start justify-content-between">
          <div>
            <h5 class="card-title mb-1">${escapeHtml(comp.title)}</h5>
            <p class="card-text"><small>${escapeHtml(comp.short || '')}</small></p>
          </div>
          <div class="text-end">
            <button type="button" class="btn btn-sm btn-outline-info view-panel-details" data-id="${compId}">View full details</button>
            <button type="button" class="btn btn-sm btn-outline-secondary remove-panel" data-comp="${compId}">Remove</button>
          </div>
        </div>

        <hr/>

        <div class="mb-2">
          <label class="form-label">Number of groups (for grouping participants)</label>
          <div class="row g-2 align-items-center">
            <div class="col-auto">
              <input type="number" min="0" max="${comp.group ? comp.group.max || 50 : 0}" class="form-control form-control-sm" id="groupCount_${compId}" value="${comp.group ? 1 : 0}" />
            </div>
            <div class="col-auto"><small>(Set 0 for Solo-only)</small></div>
          </div>
        </div>

        <div class="mb-2">
          <label class="form-label">Select participants (tick students below)</label>
          <div class="event-students-area" data-comp="${compId}"></div>
          <div class="form-text">Choose Solo or Group # per student. Multiple students assigned to the same Group # will be combined into that single group on submit. Group sizes are validated per event rules.</div>
        </div>

        <hr/>

        <div class="mb-3">
          <label class="form-label">Additional Information / Requirements</label>
          <textarea class="form-control comp-extra" id="extra_${compId}" rows="3" placeholder="Any technical requirements, props, accessibility needs, or other important details"></textarea>
        </div>

      </div>
    `;

    wrapper.appendChild(panel);
    populateEventStudentControls(compId);

    // group count handler
    panel.querySelector(`#groupCount_${compId}`).addEventListener('change', function(){
      const v = parseInt(this.value || '0',10) || 0;
      let maxAllowed = 0;
      if (comp.group) maxAllowed = comp.group.max || 50;
      if (v < 0) this.value = 0;
      if (maxAllowed > 0 && v > maxAllowed) this.value = maxAllowed;
      panel.dataset.groupCount = String(Math.max(0, parseInt(this.value || '0',10)));
      populateEventStudentControls(compId);
    });

    // remove panel handler
    panel.querySelector('.remove-panel').addEventListener('click', function(){ 
      document.getElementById(`chk_${compId}`).checked = false;
      removeCompetitionPanel(compId);
    });

    // open event details inside the viewer modal
    panel.querySelector('.view-panel-details').addEventListener('click', function(){
      showEventViewerModal(comp);
    });

    // If registration type is individual, force group not allowed for this event UI
    const regType = document.querySelector('input[name="regType"]:checked').value;
    if (regType === 'individual') {
      panel.dataset.groupCount = 0;
      panel.querySelectorAll('.event-student-mode').forEach(sel => {
        sel.value = 'solo';
        sel.disabled = true;
      });
      panel.querySelector(`#groupCount_${compId}`).value = '0';
    }
  }

  function removeCompetitionPanel(compId) {
    const panel = document.getElementById(`panel_${compId}`);
    if (panel) panel.remove();
  }

  /* ---------- event viewer modal ---------- */
  function showEventViewerModal(comp) {
    let m = document.getElementById('eventViewerModal');
    if (!m) {
      m = document.createElement('div');
      m.id = 'eventViewerModal';
      m.style.position = 'fixed';
      m.style.left = 0;
      m.style.top = 0;
      m.style.width = '100%';
      m.style.height = '100%';
      m.style.background = 'rgba(0,0,0,0.5)';
      m.style.display = 'none';
      m.style.zIndex = 9998;
      m.innerHTML = `
        <div style="max-width:900px;margin:3% auto;background:#fff;padding:18px;border-radius:8px;max-height:86vh;overflow:auto;">
          <div id="eventViewerContent"></div>
          <div class="d-flex justify-content-end mt-3">
            <button id="eventViewerClose" type="button" class="btn btn-sm btn-outline-secondary">Close</button>
          </div>
        </div>
      `;
      document.body.appendChild(m);
      m.querySelector('#eventViewerClose').addEventListener('click', ()=>{ m.style.display='none'; });
    }
    m.querySelector('#eventViewerContent').innerHTML = comp.detailsHtml || '<div>No details available.</div>';
    m.style.display = 'block';
  }

  /* ---------- global confirm modal ---------- */
  function createGlobalConfirmModal() {
    if (document.getElementById('globalConfirmModal')) return document.getElementById('globalConfirmModal');

    const modal = document.createElement('div');
    modal.id = 'globalConfirmModal';
    modal.style.position = 'fixed';
    modal.style.left = 0;
    modal.style.top = 0;
    modal.style.width = '100%';
    modal.style.height = '100%';
    modal.style.background = 'rgba(0,0,0,0.6)';
    modal.style.display = 'none';
    modal.style.zIndex = 10000;

    modal.innerHTML = `
      <div style="max-width:600px;margin:4% auto;background:#fff;padding:18px 22px;border-radius:10px;max-height:86vh;overflow:auto;box-shadow:0 4px 15px rgba(0,0,0,0.2);">
        <h4 class="fw-bold text-center mb-4" style="color:#034EA2;">Please Confirm Before Submission</h4>

        <div class="mt-2">
          <div class="mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="modal_rules_read">
              <label class="form-check-label" for="modal_rules_read">
                <strong>I confirm that I have read and understood all the Rules & Regulations.</strong>
              </label>
            </div>
          </div>

          <div class="alert alert-warning" style="background:#FFF8E1;color:#5D4037;border:1px solid #FFD54F;border-radius:8px;">
            <strong>Important Information:</strong>
            <p class="mb-1 mt-2" style="font-size:15px;line-height:1.6;">
              The NEST School will not provide meals during the event. On-site food stalls will be available for purchasing food.
            </p>
            <p class="mb-0" style="font-size:15px;line-height:1.6;">
              The accompanying adult (teacher, parent, or legal guardian) is fully responsible for managing the child's allergies and dietary requirements.
            </p>
          </div>
        </div>

        <div class="d-flex justify-content-end gap-2 mt-4">
          <button id="modal_cancel" type="button" class="btn btn-outline-secondary px-4">Cancel</button>
          <button id="modal_confirm" type="button" class="btn btn-primary px-4">Confirm & Submit</button>
        </div>
      </div>
    `;

    document.body.appendChild(modal);

    modal.querySelector('#modal_cancel').addEventListener('click', function(){
      modal.style.display = 'none';
      modal._resolve && modal._resolve({ confirmed:false, rulesRead:false, consentProvided:false, consentFile:null });
    });

    modal.querySelector('#modal_confirm').addEventListener('click', function(){
      const rulesChecked = !!modal.querySelector('#modal_rules_read') && modal.querySelector('#modal_rules_read').checked;
      if (!rulesChecked) {
        alert('Please confirm you have read the Rules & Regulations.');
        return;
      }

      modal.style.display = 'none';
      modal._resolve && modal._resolve({
        confirmed: true,
        rulesRead: true,
        consentProvided: false,
        consentFile: null
      });
    });

    return modal;
  }

  function openGlobalConfirmModal() {
    const modal = createGlobalConfirmModal();
    modal.style.display = 'block';
    return new Promise(resolve => { modal._resolve = resolve; });
  }

  /* ---------- submit handler (updated to include heardAbout) ---------- */
  regForm.addEventListener('submit', async function(e){
    e.preventDefault();

    // require at least one competition selected
    const checkedComps = Array.from(document.querySelectorAll('.comp-checkbox:checked'));
    if (checkedComps.length === 0) { alert('Please select at least one competition.'); return; }

    // If Individual, require at least one student
    const regType = document.querySelector('input[name="regType"]:checked')?.value || 'school';
    if (regType === 'individual' && students.length === 0) { alert('For individual registration please add at least one student using the "Students (add once)" section.'); return; }

    // Ensure each selected competition has at least one assigned student and groups conform
    const errorsPre = [];
    const eventsSelected = checkedComps.map(chk => chk.value);
    eventsSelected.forEach(compId=>{
      const panel = document.getElementById(`panel_${compId}`);
      const comp = competitionDefs.find(c=>c.id===compId);
      if (!panel) return errorsPre.push(`${comp ? comp.title : compId}: Panel missing.`);

      const selectedCheckboxes = panel.querySelectorAll('.event-student-checkbox:checked');
      if (!selectedCheckboxes || selectedCheckboxes.length === 0) {
        errorsPre.push(`${comp.title}: Select at least one student for this event.`);
        return;
      }

      // group validations
      const groupCount = parseInt(panel.dataset.groupCount || '0',10);
      const groupsMap = {};
      selectedCheckboxes.forEach(cb=>{
        const sid = parseInt(cb.dataset.stu,10);
        const modeSel = panel.querySelector(`.event-student-mode[data-stu="${sid}"]`);
        const modeVal = (modeSel && !modeSel.disabled) ? (modeSel.value || 'solo') : 'solo';
        if (modeVal && modeVal.startsWith('group:')) {
          const gid = modeVal.split(':')[1];
          groupsMap[gid] = groupsMap[gid] || [];
          const stu = students.find(s=>s.id===sid);
          if (stu) groupsMap[gid].push(stu);
        }
      });
      for (const gid in groupsMap) {
        const grp = groupsMap[gid];
        if (!comp.group) {
          errorsPre.push(`${comp.title}: group entries not allowed for this event.`);
        } else {
          const min = comp.group.min || 1;
          const max = comp.group.max || 10000;
          if (grp.length < min) errorsPre.push(`${comp.title} (Group ${gid}): minimum ${min} performers required, selected ${grp.length}.`);
          if (grp.length > max) errorsPre.push(`${comp.title} (Group ${gid}): maximum ${max} performers allowed, selected ${grp.length}.`);
        }
      }
    });

    if (errorsPre.length) { alert("Please fix these issues:\n\n" + errorsPre.join("\n")); return; }

    // Open the global confirm modal
    const modalResult = await openGlobalConfirmModal();
    if (!modalResult || !modalResult.confirmed) return;

    // After user confirms, gather top-level data
    const errors = [];
    const topLevelData = {};
    if (regType === 'school') {
      topLevelData.registrationType = 'school';
      topLevelData.schoolName = document.getElementById('schoolName')?.value.trim() || '';
      topLevelData.faculty = document.getElementById('faculty')?.value.trim() || '';
      topLevelData.phone = document.getElementById('phone')?.value.trim() || '';
      topLevelData.schoolEmail = document.getElementById('schoolEmail')?.value.trim() || '';
      topLevelData.emergencyName = document.getElementById('emergencyName')?.value.trim() || '';
      topLevelData.teacherSignature = document.getElementById('teacherSignature')?.value.trim() || '';

      if (!topLevelData.schoolName) errors.push('School name is required');
      if (!topLevelData.faculty) errors.push('Contact teacher name is required');
      if (!topLevelData.phone) errors.push('Contact teacher phone is required');
      if (!topLevelData.schoolEmail) errors.push('School Email is required');
      if (!topLevelData.emergencyName) errors.push('Emergency contact name & mobile is required');
      if (!topLevelData.teacherSignature) errors.push('Teacher signature is required');
    } else {
      topLevelData.registrationType = 'individual';
      topLevelData.schoolName = document.getElementById('indiv_school')?.value.trim() || '';
      topLevelData.parentName = document.getElementById('indiv_parentName')?.value.trim() || '';
      topLevelData.parentPhone = document.getElementById('indiv_parentPhone')?.value.trim() || '';
      topLevelData.parentEmail = document.getElementById('indiv_parentEmail')?.value.trim() || '';

      if (!topLevelData.parentName) errors.push('Parent/Guardian name is required');
      if (!topLevelData.parentPhone) errors.push('Parent/Guardian phone is required');
      if (!topLevelData.parentEmail) errors.push('Parent/Guardian email is required');
    }

    // New: handle heardAbout field (required by the form markup)
    const heardVal = (heardSelect && heardSelect.value) ? heardSelect.value : '';
    const heardOtherVal = (heardOtherInput && heardOtherInput.value) ? heardOtherInput.value.trim() : '';
    let finalHeard = '';
    if (!heardVal) {
      errors.push('Please tell us how you heard about NESTival’25.');
    } else if (heardVal === 'Other') {
      if (!heardOtherVal) errors.push('Please specify the "Other" option for How did you hear about NESTival’25.');
      else finalHeard = heardOtherVal;
    } else {
      finalHeard = heardVal;
    }

    if (!modalResult.rulesRead) errors.push('Please confirm you have read the Rules & Regulations.');

    if (errors.length) { alert("Please fix these issues:\n\n" + errors.join("\n")); return; }

    // Build FormData for submission (no per-event files)
    const formData = new FormData();
    for (const k in topLevelData) formData.append(k, topLevelData[k]);

    // Append heard about result
    // Send it using all accepted backend keys for compatibility
    formData.append('howDidYouHear', finalHeard);
    formData.append('source', finalHeard);
    formData.append('heardAbout', finalHeard); // keep your own too, harmless

    // Consent file (global)
    if (modalResult.consentProvided && modalResult.consentFile) {
      formData.append('consent_release_pdf', modalResult.consentFile, modalResult.consentFile.name);
      formData.append('consent_release_provided', '1');
    } else {
      formData.append('consent_release_provided', modalResult.consentProvided ? '1' : '0');
    }

    // append students as array
    formData.append('students', JSON.stringify(students.map(s => ({ id: s.id, name: s.name, grade: s.grade }))));

    // Build competitions payload from current panels (no files)
    const competitionsPayload = [];
    eventsSelected.forEach(compId=>{
      const comp = competitionDefs.find(c => c.id === compId);
      const panel = document.getElementById(`panel_${compId}`);
      if (!panel) return;

      const selected = [];
      panel.querySelectorAll('.event-student-checkbox:checked').forEach(cb=>{
        const sid = parseInt(cb.dataset.stu,10);
        const stu = students.find(s=>s.id===sid);
        if (stu) {
          const modeSel = panel.querySelector(`.event-student-mode[data-stu="${sid}"]`);
          const mode = (modeSel && !modeSel.disabled) ? (modeSel.value || 'solo') : 'solo';
          selected.push({ student: stu, mode });
        }
      });

      // group map
      const groupsMap = {};
      selected.filter(s=>s.mode && s.mode.startsWith('group:')).forEach(s=>{
        const gid = s.mode.split(':')[1];
        groupsMap[gid] = groupsMap[gid] || [];
        groupsMap[gid].push({ name: s.student.name, grade: s.student.grade });
      });

      // solos
      const soloParticipants = selected.filter(s=>s.mode==='solo').map(s=>({ name: s.student.name, grade: s.student.grade }));

      // push groups
      for (const gid in groupsMap) {
        competitionsPayload.push({
          id: compId,
          title: comp.title,
          mode: 'group',
          groupNumber: gid,
          schedule: comp.schedule || null,
          participants: groupsMap[gid],
          numberOfPerformers: groupsMap[gid].length,
          technicalRequirements: panel.querySelector('.comp-extra')?.value.trim() || ''
        });
      }

      // push solos
      soloParticipants.forEach(sp=>{
        competitionsPayload.push({
          id: compId,
          title: comp.title,
          mode: 'solo',
          schedule: comp.schedule || null,
          participants: [{ name: sp.name, grade: sp.grade }],
          numberOfPerformers: 1,
          technicalRequirements: panel.querySelector('.comp-extra')?.value.trim() || ''
        });
      });
    });

    formData.append('competitions', JSON.stringify(competitionsPayload));
    formData.append('confirmRulesRead', modalResult.rulesRead ? '1' : '0');

    // Also append registration type just in case backend expects it separately
    formData.append('registrationType', topLevelData.registrationType || regType);

    // submit: show loader and disable button
    if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Submitting...'; }
    showLoader('Submitting registration...');

    try {
      const resp = await fetch('/wp-json/nestival/v1/register', { method:'POST', body: formData });
      if (!resp.ok) {
        let txt = '';
        try { txt = await resp.text(); } catch(e) {}
        throw new Error(`Server returned ${resp.status}${txt?': '+txt:''}`);
      }
      const data = await resp.json().catch(()=>({ success:true }));
if (data && data.success) {
  regForm.reset();
  document.querySelectorAll('.card.mb-3').forEach(card => card.remove());
  students.length = 0;
  renderStudentsArea();
  updateRegistrationTypeUI();

  if (heardSelect) heardSelect.value = '';
  if (heardOtherInput) { 
    heardOtherInput.value = ''; 
    heardOtherInput.style.display = 'none'; 
  }

  // ✅ Always redirect without showing the registration ID
  const url = '/nestival/thankyou.html';
  window.location.href = url;
}


 else {
        alert('Submission failed: ' + (data.message || JSON.stringify(data)));
      }
    } catch (err) {
      console.error(err);
      alert('Submission error: ' + err.message);
    } finally {
      // hide loader AFTER alert closes and re-enable button
      try { hideLoader(); } catch(e) {}
      if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = 'Submit Registration'; }
    }

  }); // end submit

  // Keep the show/hide behavior for heardOther if not already present (defensive)
  if (heardSelect) {
    heardSelect.addEventListener('change', function () {
      if (this.value === 'Other' && heardOtherInput) {
        heardOtherInput.style.display = 'block';
        heardOtherInput.required = true;
      } else if (heardOtherInput) {
        heardOtherInput.style.display = 'none';
        heardOtherInput.required = false;
        heardOtherInput.value = '';
      }
    });
  }

});
</script>







    <script>
      // reveal animation (IntersectionObserver)
      (function () {
        const items = document.querySelectorAll(".reveal");
        if (!("IntersectionObserver" in window)) {
          items.forEach((i) => i.classList.add("is-visible"));
          return;
        }
        const io = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((e) => {
              if (e.isIntersecting) {
                e.target.classList.add("is-visible");
                obs.unobserve(e.target);
              }
            });
          },
          { threshold: 0.12 }
        );
        items.forEach((i) => io.observe(i));
      })();
    </script>
    <script>
(function(){
  const wrap = document.getElementById('mobileSocial');
  const panel = document.getElementById('msPanel');
  const toggle = document.getElementById('msToggle');

  // open / close helpers
  function openPanel() {
    wrap.classList.add('open');
    toggle.setAttribute('aria-expanded', 'true');
    // focus first item for keyboard users
    const first = panel.querySelector('a, button');
    if (first) first.focus();
    // set up outside click listener
    document.addEventListener('click', outsideClick);
    document.addEventListener('keydown', keyHandler);
  }

  function closePanel() {
    wrap.classList.remove('open');
    toggle.setAttribute('aria-expanded', 'false');
    toggle.focus();
    document.removeEventListener('click', outsideClick);
    document.removeEventListener('keydown', keyHandler);
  }

  // toggle
  toggle.addEventListener('click', function(e){
    e.stopPropagation();
    if (wrap.classList.contains('open')) closePanel(); else openPanel();
  });

  // allow Enter / Space to toggle when handle focused
  toggle.addEventListener('keydown', function(e){
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      toggle.click();
    }
  });

  // click outside to close
  function outsideClick(e) {
    if (!wrap.contains(e.target)) closePanel();
  }

  // keyboard handler for Escape and tab management
  function keyHandler(e) {
    if (e.key === 'Escape') {
      closePanel();
      return;
    }
    // if focus leaves the panel (tabbing forward/back), close
    if (e.key === 'Tab') {
      // small focus-trap: if tabbing and focus goes outside, close after short delay
      setTimeout(function(){
        const active = document.activeElement;
        if (!wrap.contains(active)) closePanel();
      }, 10);
    }
  }

  // prevent panel clicks from closing (they bubble up)
  panel.addEventListener('click', function(e){
    e.stopPropagation();
  });

  // optional: close when window resizes beyond mobile breakpoint
  window.addEventListener('resize', function(){
    if (window.innerWidth > 768 && wrap.classList.contains('open')) closePanel();
  });

  // touch-friendly: increase tap area on small devices (handled by CSS sizes)
})();
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const link = document.getElementById('brochureLink');
  if (!link) return;

  // Ensure Enter/Space triggers the link for keyboard users
  link.addEventListener('keydown', function (e) {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      // open in same behaviour as anchor (preserves target="_blank")
      window.open(link.href, link.target || '_self');
    }
  });

  // Prevent accidental shift+click from opening twice
  link.addEventListener('click', function (e) {
    // nothing needed; anchor will handle navigation
  });
});
</script>
  </body>
</html>
